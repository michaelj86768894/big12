<!doctype html>
<html>
<head>

<style>
	
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#001433; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#001433; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #001433; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #E8E8E8; }

tr:hover td, tr:hover th {
  background-color: #F0AE00; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #F0AE00; } /* SECONDARY */
.content a:hover { color: #F0AE00; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#001433; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
	.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.team_fourth {
background: #ffffff;
}

.team_second {
background: #F0AE00;
}

.team_third {
background: #007FC8;
}
	
.team_first {
background: #001433;
}
	
</style>

<meta charset="UTF-8">
<title>2012 Big 12 Season</title>
</head>

<body>
	
<p>The inaugural season of the Big 12 unfolded in 2012, marking the inception of a riveting journey in fantasy football. Established on April 28, 2012, by the league's current commissioner, Michael Bautch, the season commenced on Wednesday, September 5, 2012, as the Milwaukee Mustangs hosted the Los Angeles Wildcats in a compelling matchup that culminated in a 105-84 victory for the Mustangs. The season reached its climax on Sunday, December 30, 2012, with the Big 12 Championship showdown between the Los Angeles Wildcats and the Green Bay Blizzard. The Wildcats emerged victorious, securing an 85-68 triumph and etching their name in history as the first-ever Big 12 champions.</p>
	
<table>
  <tbody>
    <tr>
      <td colspan="2"><center><img src="https://www.dropbox.com/scl/fi/lnq1lhu4dlfd01vksxni4/1-Big-12-Logo.png?rlkey=2jlol6c7y0qx3hxc26ojqgom2&st=16hq5j7p&raw=1" width="253" height="150" alt=""/></center></td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Regular Season</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Duration</strong></td>
      <td>Sept. 5 2012<br>Dec. 10 2012</td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Playoffs</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Start Date</strong></td>
      <td>Dec. 13 2012</td>
    </tr>
	  <tr>
      <td><strong>Conf. Champions</strong></td>
      <td>Los Angeles (1)<br>Green Bay (1)</td>
    </tr>
	   <tr>
      <td colspan="2"><strong><center>Big 12 Championship</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Date</strong></td>
      <td>Dec. 30 2012</td>
    </tr>
     <tr>
      <td><strong>Champions</strong></td>
      <td>Los Angeles Wildcats (1)</td>
    </tr>
  </tbody>
</table>
	<p> </p>
	
	<button class="collapsible"> Draft<hr></button>
<div class="content">
	
	
<p>The <a href="https://bigxii.weebly.com/2012-draft.html">2012 Big 12 Draft</a> marked the inaugural gathering of Big 12 General Managers for the selection of eligible football players. Conducted online on Sunday, September 2, 2012, at 9:00 am CST, the draft showcased the strategic choices made by each team. Los Angeles secured the coveted first overall pick and utilized it to select Arian Foster from Houston, setting the stage for the league's first-ever draft class.</p>	
	
		
	<h3>Complete First Round Selections</h3>
	
	
	<table>
  <tbody>
    <tr>
      <th>Pick</th>
      <th>Big 12 Team</th>
      <th>Player</th>
      <th>POS</th>
      <th>NFL Team</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Los Angeles</td>
      <td>Arian Foster</td>
      <td>RB</td>
      <td>HOU</td>		
    </tr>
    <tr>
      <td>2</td>
      <td>Green Bay</td>
      <td>Ray Rice</td>
      <td>RB</td>
      <td>BAL</td>		
    </tr>
    <tr>
      <td>3</td>
      <td>Chicago</td>
      <td>LeSean McCoy</td>
      <td>RB</td>
      <td>PHL</td>		
    </tr>
     <tr>
      <td>4</td>
      <td>Vegas</td>
      <td>Tony Romo</td>
      <td>QB</td>
      <td>DAL</td>		
    </tr>
    <tr>
      <td>5</td>
      <td>Milwaukee</td>
      <td>Aaron Rodgers</td>
      <td>QB</td>
      <td>GB</td>		
    </tr>
     <tr>
      <td>6</td>
      <td>Philadelphia</td>
      <td>Matt Forte</td>
      <td>RB</td>
      <td>CHI</td>		
    </tr>
      <tr>
      <td>7</td>
      <td>Cleveland</td>
      <td>Tom Brady</td>
      <td>QB</td>
      <td>NE</td>		
    </tr>
      <tr>
      <td>8</td>
      <td>Boston</td>
      <td>Chris Johnson</td>
      <td>RB</td>
      <td>TEN</td>		
    </tr>
       <tr>
      <td>9</td>
      <td>Cedar Rapids</td>
      <td>Packers D/ST</td>
      <td>D/ST</td>
      <td>GB</td>		
    </tr>
      <tr>
      <td>10</td>
      <td>Northern Arizona </td>
      <td>Drew Brees</td>
      <td>QB</td>
      <td>NO</td>		
    </tr>
      <tr>
      <td>11</td>
      <td>Brooklyn</td>
      <td>Matthew Stafford</td>
      <td>QB</td>
      <td>DET</td>		
    </tr>
      <tr>
      <td>12</td>
      <td>Miami</td>
      <td>Miles Austin</td>
      <td>QB</td>
      <td>DAL</td>		
    </tr>
  </tbody>
</table>
	
<br>
	</div>

	
	

		<button class="collapsible"> Regular Season<hr></button>
<div class="content">
<p>The 2012 regular season unfolded with a captivating display of fantasy football prowess, comprising a total of 168 games meticulously scheduled across 14 weeks. The season kicked off on the Wednesday night following Labor Day, and each Big 12 team engaged in a weekly battle to secure victories and clinch a coveted playoff spot. As the dust settled, the Brooklyn Bolts and the Milwaukee Mustangs emerged as the frontrunners, both boasting impressive 11-3 records. In stark contrast, the Vegas Knight Hawks faced the challenges of a challenging season, concluding with a 1-13 record. The league witnessed intense matchups, unexpected upsets, and stellar performances, setting the stage for an exhilarating postseason.</p>
	
		<h3>Standings</h3>

<div class="table-container">
<table>
    <tr>
      <th>East</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(2) Brooklyn</td>
      <td>11</td>
      <td>3</td>		
    </tr>
    <tr>
      <td>(7) Miami</td>
      <td>7</td>
      <td>7</td>		
    </tr>
    <tr>
      <td>(8) Philadelphia</td>
      <td>6</td>
      <td>8</td>		
    </tr>
    <tr>
      <td>Boston</td>
      <td>4</td>
      <td>10</td>		
    </tr>
</table>
</div>
	
<div class="table-container">
<table>
    <tr>
      <th>Central</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(1) Milwaukee</td>
      <td>11</td>
      <td>3</td>		
    </tr>
    <tr>
      <td>(6) Cleveland</td>
      <td>6</td>
      <td>8</td>		
    </tr>
    <tr>
      <td>Chicago</td>
      <td>4</td>
      <td>10</td>		
    </tr>
    <tr>
      <td>Cedar Rapids</td>
      <td>4</td>
      <td>10</td>		
    </tr>
</table>
	</div>	

<div class="table-container">
<table>
    <tr>
      <th>West</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(3) Los Angeles</td>
      <td>10</td>
      <td>4</td>		
    </tr>
    <tr>
      <td>(4) Green Bay</td>
      <td>9</td>
      <td>5</td>		
    </tr>
    <tr>
      <td>(5) Northern Arizona</td>
      <td>9</td>
      <td>5</td>		
    </tr>
    <tr>
      <td>Vegas</td>
      <td>1</td>
      <td>13</td>		
    </tr>
</table>
	</div>	
	
	<p> </p>
	</div>
	
	
	
	
	<button class="collapsible"> Game Schedule<hr></button>
<div class="content">
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	
	
	
<button class="collapsible"> Postseason<hr></button>
<div class="content">
	

	
<h3>Round 1</h3>
<p>The intensity of the postseason gripped fans as Round 1 unfolded from December 13-17, 2012, showcasing thrilling matchups and unexpected twists. The #1 seed, Milwaukee Mustangs, faced the #8 seed Philadelphia Soul, with the Mustangs prevailing in a high-scoring battle, securing a 124-103 victory. Meanwhile, the #2 seed Brooklyn Bolts asserted their dominance over the #7 seed Miami Inferno with a commanding 124-67 win, emphasizing their status as division winners.</p>
	
	<p>In another gripping clash, the #3 seed Los Angeles Wildcats clashed with the #6 seed Cleveland Gladiators. The Wildcats emerged victorious in a closely contested duel, sealing the win with a final score of 98-91. The weekend's lone upset unfolded as the #5 seed Green Bay Blizzard outperformed expectations, stunning the #4 seed Northern Arizona Wranglers with a decisive 104-68 triumph. These compelling matchups set the stage for further playoff excitement, with each team striving to advance on their journey to the coveted Big 12 Championship.</p>
	
<h3>Round 2</h3>
<p>As the playoff drama intensified, Round 2 unfolded on December 22-26, 2012, delivering more captivating moments and unexpected outcomes. In a thrilling upset, the #1 seed Milwaukee Mustangs faced an unexpected challenge from the #5 seed Green Bay Blizzard. The Blizzard pulled off a remarkable victory, stunning the Mustangs with a final score of 112-104, showcasing the unpredictable nature of postseason matchups.</p>
	
	<p>In the second matchup of the weekend, the #2 seed Brooklyn Bolts clashed with the #3 seed Los Angeles Wildcats. The Wildcats displayed their prowess with a dominant performance, securing a convincing 135-101 win over the Bolts. These results further fueled the excitement surrounding the Big 12 playoffs, setting the stage for the remaining teams to vie for the coveted Big 12 Championship.</p>
	
			<h3>Big 12 Championship</h3>
	
	<center><img src="https://www.dropbox.com/scl/fi/s6jqclj4mk91duh41zmuc/2012-Championship.png?rlkey=63bg7epf95ixo5regk92d15bf&st=kyhz758x&raw=1" width="221" height="200" alt=""/></center>
	
<p>The inaugural Big 12 Championship game reached its climax on December 30, 2012, as the #3 seed Los Angeles Wildcats faced off against the #5 seed Green Bay Blizzard. In a highly anticipated showdown, the Wildcats showcased their championship-caliber performance, ultimately securing a historic 85-68 victory over the Blizzard. This triumph marked the Wildcats' coronation as the first-ever Big 12 Champions, etching their name in the league's early history and solidifying their place in the annals of fantasy football glory.</p>
	
	</div>	
	
	
	
	
			<button class="collapsible"> Awards<hr></button>
<div class="content">
	
	<p>In the inaugural season of the Big 12, three franchises emerged victorious as division champions: the Milwaukee Mustangs, Los Angeles Wildcats, and Brooklyn Bolts. These teams demonstrated exceptional prowess and strategic gameplay, securing their respective division titles in the league's first-ever competitive campaign.</p>
	
	<p>Fourth round pick Adrian Peterson stood out as a standout player, earning the prestigious league MVP award for the 2012 season. Peterson's remarkable performance, amassing an impressive total of 292 points, significantly contributed to the Brooklyn Bolts' stellar 11-3 season record. His skillful play not only propelled the Bolts to the upper echelons of the league standings but also earned him recognition as the most valuable player in the Big 12's inaugural season.</p>
	
	<p>Acknowledging outstanding managerial achievements, General Manager Michael Bautch was honored with the GM of the Year award. Bautch's strategic decisions and leadership prowess catapulted his team to the coveted number one spot in the playoffs, marking a significant accomplishment in the inaugural season of the Big 12. The GM of the Year accolade celebrated Bautch's impactful contributions to the league, recognizing his instrumental role in the success of the Milwaukee Mustangs.</p>
	
	</div>	
	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  t2.value = "ALL_TEAMS";  // Set default for Team 2

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = "2012";
  const gameTypeVal = "Season"; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	
	</body>
</html>
