<!doctype html>
<html>
<head>

<style>
	
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#001433; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#001433; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #001433; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #E8E8E8; }

tr:hover td, tr:hover th {
  background-color: #F0AE00; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #F0AE00; } /* SECONDARY */
.content a:hover { color: #F0AE00; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#001433; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
	.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.team_fourth {
background: #ffffff;
}

.team_second {
background: #F0AE00;
}

.team_third {
background: #007FC8;
}
	
.team_first {
background: #001433;
}
	
</style>
	
	
	
	
<meta charset="UTF-8">
<title>2016 Big 12 Season</title>
</head>

<body>
	
<p>The 2016 season marked the league's fifth installment, weaving together a narrative of intense competition and remarkable achievements. Kicking off on Thursday, September 8, 2016, the defending league champion Vegas Knight Hawks clashed with the Milwaukee Mustangs in a riveting rematch of the previous year's championship. The Mustangs emerged triumphant with a commanding 152-99 victory, setting the stage for a season filled with thrilling matchups and unforeseen twists. The journey culminated on Monday, December 26, 2016, with the league's championship game between the Miami Inferno and the Cleveland Gladiators. In a historic moment, Miami clinched their first title with a decisive 155-110 triumph.</p>
	
<table>
  <tbody>
    <tr>
      <td colspan="2"><center><img src="https://www.dropbox.com/scl/fi/lnq1lhu4dlfd01vksxni4/1-Big-12-Logo.png?rlkey=2jlol6c7y0qx3hxc26ojqgom2&st=16hq5j7p&raw=1" width="253" height="150" alt=""/></center></td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Regular Season</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Duration</strong></td>
      <td>Sept. 8 2016<br>Dec. 5 2016</td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Playoffs</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Start Date</strong></td>
      <td>Dec. 8 2016</td>
    </tr>
	  <tr>
      <td><strong>Conf. Champions</strong></td>
      <td>Miami (1)<br>Cleveland (2)</td>
    </tr>
	   <tr>
      <td colspan="2"><strong><center>Big 12 Championship V</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Date</strong></td>
      <td>Dec. 26 2016</td>
    </tr>
     <tr>
      <td><strong>Champions</strong></td>
      <td>Miami Inferno (1)</td>
    </tr>
  </tbody>
</table>
	<p> </p>
	
	
						<button class="collapsible"> Personnel Movement<hr></button>
<div class="content">
	
	<p>There were no changes for the 2016 season.</p>
	
	</div>	
	
	
	
	
	<button class="collapsible"> Draft<hr></button>
<div class="content">
	
<p>The 2016 draft unfolded as the league's fifth annual gathering of Big 12 General Managers, shaping the future of their teams through a strategic selection process. Hosted at Kam's Corner Tap in Wauwatosa, WI, on Sunday, August 21, 2016, at 5:00 pm CST, the draft introduced a new dimension. Teams were now permitted to retain one player from the previous season, provided the player wasn't selected in the first three rounds. In this dynamic environment, the Milwaukee Mustangs, holding the coveted first pick, made a historic choice by selecting Antonio Brown from the Pittsburgh Steelers. This marked the first time ever that a receiver was taken with the prestigious first overall pick, injecting a fresh element of excitement into the draft proceedings.</p>	
	
	
	<h3>Complete First Round Selections</h3>
	
	<table>
  <tbody>
    <tr>
      <th>Pick</th>
      <th>Big 12 Team</th>
      <th>Player</th>
      <th>POS</th>
      <th>NFL Team</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Milwaukee</td>
      <td>Antonio Brown</td>
      <td>WR</td>
      <td>PIT</td>		
    </tr>
    <tr>
      <td>2</td>
      <td>Cedar Rapids</td>
      <td>Odell Beckham Jr.</td>
      <td>WR</td>
      <td>NYG</td>		
    </tr>
    <tr>
      <td>3</td>
      <td>Green Bay</td>
      <td>Adrian Peterson</td>
      <td>RB</td>
      <td>MIN</td>		
    </tr>
     <tr>
      <td>4</td>
      <td>Brooklyn</td>
      <td>Julio Jones</td>
      <td>WR</td>
      <td>ATL</td>		
    </tr>
    <tr>
      <td>5</td>
      <td>Chicago</td>
      <td>Dez Bryant</td>
      <td>WR</td>
      <td>DAL</td>		
    </tr>
     <tr>
      <td>6</td>
      <td>Los Angeles</td>
      <td>AJ Green</td>
      <td>WR</td>
      <td>CIN</td>		
    </tr>
      <tr>
      <td>7</td>
      <td>Miami</td>
      <td>DeAndre Hopkins</td>
      <td>WR</td>
      <td>HOU</td>		
    </tr>
      <tr>
      <td>8</td>
      <td>Northern Arizona</td>
      <td>Lamar Miller</td>
      <td>RB</td>
      <td>HOU</td>		
    </tr>
       <tr>
      <td>9</td>
      <td>Cleveland</td>
      <td>Ezekiel Elliott</td>
      <td>RB</td>
      <td>DAL</td>		
    </tr>
      <tr>
      <td>10</td>
      <td>Philadelphia</td>
      <td>Eddie Lacy</td>
      <td>RB</td>
      <td>GB</td>		
    </tr>
      <tr>
      <td>11</td>
      <td>Vegas</td>
      <td>LeVeon Bell</td>
      <td>RB</td>
      <td>PIT</td>		
    </tr>
      <tr>
      <td>12</td>
      <td>Boston</td>
      <td>Aaron Rodgers</td>
      <td>QB</td>
      <td>GB</td>		
    </tr>
  </tbody>
</table>
	
<br>
	</div>

	

		<button class="collapsible"> Regular Season<hr></button>
<div class="content">
<p>The 2016 regular season unfolded with a total of 156 games played across a 13-week schedule, commencing on the Thursday night following Labor Day. Each Big 12 team engaged in one game per week, navigating the challenges and opportunities presented by the weekly matchups.</p>
	
<p>The defending champion Vegas Knight Hawks faced an early-season setback, missing the services of their first overall pick, Le'Veon Bell, for the first three games. This absence manifested in their 1-2 start, and despite efforts to regain momentum, the champs struggled to find consistency throughout the season. Ultimately finishing at 6-7, including two crucial losses at the end of the season, they fell short of securing a playoff spot, unable to replicate their championship success. Northern Arizona, Cleveland, and Miami claimed division titles this year, with Miami and Cleveland each claiming their second in their respective team histories. Meanwhile, Green Bay endured a challenging season, finishing with a league-worst record of 3-10.</p>
	
		<h3>Standings</h3>
	
<div class="table-container">
<table>
    <tr>
      <th>East</th>
      <th>W</th>
      <th>L</th>
    </tr>
	  <tr>
      <td>(1) Miami</td>
      <td>9</td>
      <td>4</td>		
    </tr>
    <tr>
      <td>(3) Boston</td>
      <td>8</td>
      <td>5</td>		
    </tr>
	  <tr>
      <td>Philadelphia</td>
      <td>5</td>
      <td>8</td>		
    </tr>
	  <tr>
      <td>Brooklyn</td>
      <td>4</td>
      <td>9</td>		
    </tr>
</table>
</div>	

	<div class="table-container">
<table>
    <tr>
      <th>Central</th>
      <th>W</th>
      <th>L</th>
    </tr>
<tr>
      <td>(2) Cleveland</td>
      <td>9</td>
      <td>4</td>		
    </tr>
    <tr>
      <td>(4) Chicago</td>
      <td>7</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>(5) Milwaukee</td>
      <td>7</td>
      <td>6</td>		
    </tr>
	  <tr>
      <td>(6) Cedar Rapids</td>
      <td>7</td>
      <td>6</td>		
    </tr>
</table>
	</div>
	
<div class="table-container">
<table>
    <tr>
      <th>West</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>Northern Arizona</td>
      <td>7</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>Los Angeles</td>
      <td>6</td>
      <td>7</td>		
    </tr>
	  <tr>
      <td>Vegas</td>
      <td>6</td>
      <td>7</td>		
    </tr>
	  <tr>
      <td>Green Bay</td>
      <td>3</td>
      <td>10</td>		
    </tr>
</table>
	</div>
	
	<p> </p>
	</div>
	
	
	
	
	
	<button class="collapsible"> Game Schedule<hr></button>
<div class="content">
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	<button class="collapsible"> Postseason<hr></button>
<div class="content">
	
	
<br>
	

	
<p>The playoffs for the 2016 season commenced on December 8, 2016, setting the stage for an exciting postseason journey. The culmination of the postseason unfolded on December 26th in the league championship, where the Miami Inferno secured a historic victory. Facing the Cleveland Gladiators in a hard-fought battle, the Inferno emerged triumphant with a final score of 118-98, capturing their first championship in team history. This victory marked a significant milestone for the Miami franchise, highlighting their achievements and resilience throughout the postseason.</p>
	
	
<h3>Round 1</h3>
	
<p>The opening round of the 2016 playoffs unfolded from December 8 to 12, 2016, bringing intense matchups and compelling storylines. In the first contest, the #3 seed Boston Brawlers faced the Cedar Rapids Titans. Despite Boston holding a season advantage with a previous victory, the Titans dominated with a commanding 43-point lead, securing a resounding 127-84 win. This impressive performance propelled them to the next round against Miami.</p>
	
<p>The second game of the first-round weekend featured a clash between the #5 seed Milwaukee Mustangs and #4 seed Chicago, marking their third encounter of the season. Chicago aimed for their third victory over the Mustangs after winning both regular-season meetings. However, the Mustangs emerged victorious with a final score of 95-87, advancing to the next stage of the playoffs.</p>
	
<h3>Round 2</h3>
	
<p>
Round 2 of the 2016 playoffs, held on December 14, 2016, brought high-stakes matchups and determined the teams advancing to the championship game. The Miami Inferno, returning to the playoffs as the top seed and East division champions after missing the postseason the previous year, faced the Cedar Rapids Titans in a rematch of their Week 3 encounter. Miami demonstrated their dominance, securing a convincing 179-98 victory and earning a spot in their first championship game.</p>
	
<p>In the second game of the weekend, the 2nd seed Cleveland Gladiators, making a postseason return as Central division champions, hosted the Milwaukee Mustangs. This matchup marked the third meeting between the two teams as divisional opponents. Following a season sweep in their previous encounters, Cleveland continued their success, defeating the Mustangs 118-98. This win propelled the Gladiators to the championship game for the second time in their franchise history.</p>
	
<h3>Big 12 Championship</h3>
	
<center><img src="https://www.dropbox.com/scl/fi/aby5xzmmihocifw5h4qam/2016-Championship.png?rlkey=8dh61xfzr04x9eygtcf1hs7y5&st=s39xqhzb&raw=1" width="221" height="200" alt=""/></center>

<p>The 2016 Big 12 Championship game, held on December 26, 2016 in Houston, Texas, featured an epic clash between the Cleveland Gladiators and the Miami Inferno. In a historic matchup, the Inferno emerged victorious with a scoreline of 155-110, securing their franchise's first-ever championship. This championship game marked only the second time in league history that the top two teams faced off for the coveted title.</p>
	
<p>Entering the championship as the #1 seed in the playoffs, Miami showcased their dominance by crushing the Cedar Rapids Titans by a staggering 81-point margin in the previous round. This momentous victory propelled them to their inaugural appearance in the championship game. In their first encounter this season, the Inferno had defeated Cleveland with a score of 145-137, entering the championship as formidable 22-point favorites.</p>
	
<p>On the opposing side, the second-seeded Cleveland Gladiators made their second appearance in the championship game, having previously lost in their first outing against Milwaukee. The Gladiators earned their place in the championship showdown by overcoming the Milwaukee Mustangs in the conference championship with a resounding 118-98 victory.</p>
	
	</div>	
	
	
				<button class="collapsible"> Awards<hr></button>
<div class="content">
	
	<p>In the 2016 season, notable achievements marked the culmination of the Big 12. The Cleveland Gladiators and Miami Inferno each secured their second division title, showcasing their prowess in a competitive field. Meanwhile, the Northern Arizona Wranglers celebrated their maiden division championship, adding significant milestones to their franchise.</p>
	
	<p>The league MVP for the 2016 season was 14th round pick, David Johnson, who demonstrated unparalleled excellence by scoring an impressive 408 points. Johnson played a pivotal role in leading the Miami Inferno to their inaugural league championship, showcasing both individual brilliance and team success.</p>
	
	<p>The GM of the Year honor was bestowed upon Cody Coppersmith of the Miami Inferno, acknowledging his exceptional leadership. Guiding the Inferno to a commendable 9-4 record, Coppersmith secured the award for the first time, further solidifying his impact on the team's success.</p>
	
	<p>Miami continued their triumphant journey by clinching their first conference and league championships, marking a historic season for the franchise. On the other side, Cleveland Gladiators secured their second conference championship, emphasizing their consistent competitiveness in the league.</p>
	
	
	</div>	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  t2.value = "ALL_TEAMS";  // Set default for Team 2

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = "2016";
  const gameTypeVal = "Season"; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	
	</body>
</html>
