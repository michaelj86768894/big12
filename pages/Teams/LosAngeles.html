<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boston Brawlers</title>
<!-- ========================================================================================== LINKED STYLESHEETS ================== -->
<link rel="stylesheet" href="../../css/global.css">
<link rel="stylesheet" href="../../css/tables.css">

<style>
	
	/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#003594; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#003594; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #003594; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #003594; /* PRIMARY */
  color: #ffffff;
}

/*tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #ffffff; }*/

tr:hover td, tr:hover th {
  background-color: #FFA300; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #003594; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #FFA300; } /* SECONDARY */
.content a:hover { color: #FFA300; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#003594; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}


.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.first {
  background: #003594;
}

.second {
  background: #FFA300;
}
	
.third {
  background: #FFFFFF;
}


</style>

<meta charset="UTF-8">
<title>Los Angeles Wildcats</title>
</head>

<body>
	
	
<p>The Los Angeles Wildcats, a formidable force in professional fantasy football, proudly represent the GLFL's West division. Nestled in the strategic hub of Brookfield, Wisconsin, the Wildcats have been stalwart members of the GLFL since its inception in 2012. With a rich history, the team has charted its course to the Lakefront Bowl Championship game twice, in 2012 and 2021, clinching victory in the inaugural season. Under the guidance of General Manager Liz Bautch, the Wildcats continue their pursuit of excellence on the fantasy gridiron. Join us as we unravel the narrative of the Los Angeles Wildcats, a franchise etching its name in the annals of fantasy football glory.</p>
	
<table class="standard-table">
  <tbody>
	  <tr>
      <td colspan="2"><strong>Los Angeles Wildcats</strong><br><img src="../../images/scl/fi/bweoj2a4kfaohvtjgys63/Los-Angeles.png?rlkey=35ayqtx454kp44jbudcl98q0s&st=fwza170s&raw=1" width="221" height="200" alt=""/></td>
    </tr>
    <tr>
      <td><strong>Established</strong></td>
      <td>2012</td>
    </tr>
    <tr>
      <td><strong>Headquarters</strong></td>
      <td>Brookfield, WI</td>
    </tr>
	  	  	<tr>
		<td><strong>Team Colors</strong></td>
		<td><div class="box first"></div>
		<div class="box second"></div>
			<div class="box third"></div>
		</td></tr>
    <tr>
      <th colspan="2"><strong>Conference Affiliations</strong></th>
    </tr>
    <tr>
      <td><strong>West</strong></td>
      <td>2018-Present</td>
    </tr>
	  <tr>
      <th colspan="2"><strong>Personnel</strong></th>
    </tr>  
    <tr>
      <td><strong>General Manager</strong></td>
      <td>Liz Bautch</td>
    </tr>
	  <tr>
      <th colspan="2"><strong>Team History</strong></th>
    </tr> 
    	  <tr>
      <td colspan="2">Los Angeles Wildcats (2012-Present)</td>
    </tr> 
  	  <tr>
      <th colspan="2"><strong>Championships</strong></th>
    </tr> 
    <tr>
      <td><strong>GLFL (1)</strong></td>
      <td>2012 (I)</td>
    </tr>
    <tr>
      <td><strong>Conference (2)</strong></td>
      <td>2012, 2021</td>
    </tr>
	    <tr>
      <td><strong>Division (5)</strong></td>
      <td>2012, 2019, 2021, 2022,<br> 2024</td>
    </tr>
		    <tr>
      <td><strong>Playoffs (8)</strong></td>
      <td>2012, 2013, 2014, 2019,<br> 2021, 2022, 2023, 2024</td>
    </tr>
		    <tr>
      <td><strong>Winning Seasons (8)</strong></td>
      <td>2012, 2013, 2014, 2019,<br> 2021, 2022, 2023, 2024</td>
    </tr>
	  <tr>
      <td colspan="2"><img src="../../images/scl/fi/nmlf6oi2lihlsbqltdvyv/Los-Angeles-Helmet.png?rlkey=39n1sswe16veqvbw341y1cr3o&st=tupz4cdl&raw=1" width="187" height="150" alt=""/></td>
    </tr>

  </tbody>
</table>


	<p> </p>


	
	
	<h3>Franchise History</h3>

	
<p>The Los Angeles Wildcats are a flagship West Division franchise, best known for their 2012 Lakefront Bowl Championship, consistent contention, and long-tenured leadership of GM Liz Bautch. LA burst onto the scene in 2012 at 10–4, won the West, and swept through the postseason—beating Cleveland and Brooklyn before defeating Tucson 85–68 to claim the inaugural title. They remained dangerous through 2013–2014, reaching consecutive semifinals.</p>
	
	<p>A downturn followed from 2015–2018, including seasons under Pete Jerving (2017–2018) where LA hovered around .500 and missed the playoffs. The franchise pivoted in 2019 under DeMario Suggs, surging to 9–4, capturing the division, and suffering a brutal 116–115 semifinal exit to Miami—a one-point heartbreaker that reignited the club’s edge.</p>
	
	<p>After the 2020 hiatus, Bautch returned and engineered a second prime. LA went 10–4 in 2021, won the West, routed Miami 185–54, edged Philadelphia 144–142, and finished runner-up to Brooklyn in the Lakefront Bowl Championship. The apex came in 2022 at 12–2 with another division title and GM of the Year for Bautch, though Tucson ended the run in the semifinals. Consistency continued in 2023–2024, with LA posting 9–5 and 10–4 marks; the 2024 team claimed its fifth division crown and detonated 230 points in a first-round win over Cleveland before bowing out to Chicago in the semifinals.</p>
	
	<p>Across more than a decade, the Wildcats have compiled five division titles (2012, 2019, 2021, 2022, 2024), two Lakefront Bowl Championship appearances, and the league’s first crown—maintaining perennial contender status through multiple eras and GM changes.</p>
	
	</div>

		<h3>List of Los Angeles Seasons</h3>
	
<p>Embark on a chronological exploration of the Los Angeles Wildcats' journey through fantasy football history. This comprehensive list meticulously details the season-by-season records of the Wildcats franchise, spanning from their inaugural campaign in 2012 to the present day. Uncover the ebbs and flows, postseason triumphs, league awards, and the dynamic leadership of General Managers who have shaped the Wildcats' narrative in the ever-evolving realm of professional fantasy football.</p>

	<table class="standard-table">
	<tbody>
		<tr>
		<td bgcolor="#FFCBA4">Lakefront Bowl Champions</td>
		<td bgcolor="#A2E4B8">Conference Champions</td>
		<td bgcolor="#9BD3DD">Division Champions</td>
		</tr>
		</tbody>
	</table>
	<br>

	
	<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>Year</th>
<th>Div</th>
<th>W</th>
<th>L</th>
<th>Postseason</th>
<th>Awards</th>
<th>GM</th>
</tr>

	  <tr>
    <td>2012</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>10</td>
    <td>4</td>
	<td bgcolor="#FFCBA4">Round 1 vs Cleveland 98-91 W<br><br>
Round 2 vs Brooklyn 135-101 W<br><br>
Championship vs Tucson 85-68 W</td>
    <td> </td>
    <td rowspan="5">Bautch</td>
  </tr>

	    <tr>
    <td>2013</td>
    <td>West</td>
    <td>8</td>
    <td>6</td>
	<td>Round 1 vs Cedar Rapids 158-70 W<br><br>
Round 2 vs Milwaukee 80-125 L</td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2014</td>
    <td>West</td>
    <td>9</td>
    <td>4</td>
	<td>Round 1 vs Philadelphia 142-78 W<br><br>
Round 2 vs Cleveland 90-134 L</td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2015</td>
    <td>West</td>
    <td>4</td>
    <td>9</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2016</td>
    <td>West</td>
    <td>6</td>
    <td>7</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2017</td>
    <td>West</td>
    <td>4</td>
    <td>9</td>
	<td> </td>
    <td> </td>
			<td rowspan="2">Jerving</td>
    </tr>
	  
	    <tr>
    <td>2018</td>
    <td>West</td>
    <td>7</td>
    <td>7</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	  
	    <tr>
    <td>2019</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>9</td>
    <td>4</td>
	<td>Round 1 vs Brooklyn 160-91 L</td>
    <td> </td>
			<td>Suggs</td>
  </tr>
	  
	    <tr>
  <td colspan="7">
  Season Canceled
  </td>
  </tr>
	  
	  	    <tr>
    <td>2021</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>10</td>
    <td>4</td>
	<td bgcolor="#A2E4B8">Round 1 vs Miami 185-54 W<br><br>
Round 2 vs Philadelphia 144-142 W<br><br>
Championship vs Brooklyn 118-148 L</td>
    <td> </td>
    <td rowspan="4">Bautch</td>
	  </tr>
	  
	  
	  
  <tr>
    <td>2022</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>12</td>
    <td>2</td>
	<td>Round 2 vs Tucson 118-139 L</td>
    <td>GMoY</td>
  </tr>
	  
	  
	    <tr>
    <td>2023</td>
    <td>West</td>
    <td>9</td>
    <td>5</td>
	<td>Round 1 vs Cleveland 175-147 W<br><br>
Round 2 vs Milwaukee 151-169 L</td>
    <td> </td>
  </tr>
	  
	  
	  
	  
	  	    <tr>
    <td>2024</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>10</td>
    <td>4</td>
	<td>Round 1 vs Cleveland 230.2-148.3 W<br><br>
Round 2 vs Chicago 133-233 L</td>
    <td></td>
  </tr>
	  
	  
	  
	  
	  <tr>
	  <td colspan="2">Season Record</td>
	  <td>98</td>
	  <td>65</td>
	  </tr>
	  
	  	  <tr>
	  <td colspan="2">Playoff Record</td>
	  <td>10</td>
	  <td>7</td>
	  </tr>
	  
	  	  <tr>
	  <td colspan="2">Total Record</td>
	  <td>108</td>
	  <td>72</td>
	  </tr>
	  
  </tbody>
</table>
	
	<p> </p>
<img src="../../images/scl/fi/lum360sbkq620p45h961m/2012-Champions-Logo.png?rlkey=od6uqja1kdowxabecq91ry6oe&st=z49kikl0&raw=1" width="207" height="200" alt=""/>

	</div>
	
	
	
	<h3>Head to Head Records</h3>
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
		<h3>Players/General Managers of Note</h3>
<!--<h3>Current Roster</h3>
	

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Quarterbacks</th>
</tr>
<tr>
<td>#4</td><td>Derek Carr</td>
</tr>
<tr>
<td>#7</td><td>Geno Smith</td>
</tr>
<tr>
<td>#10</td><td>Jordan Love</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Running Backs</th>
</tr>
<tr>
<td>#4</td><td>Gus Edwards</td>
</tr>
<tr>
<td>#26</td><td>Devin Singletary</td>
</tr>
<tr>
<td>#28</td><td>Joe Mixon</td>
</tr>
<tr>
<td>#29</td><td>Kareem Hunt</td>
</tr>
<tr>
<td>#30</td><td>Austin Ekeler</td>
</tr>
<tr>
<td>#41</td><td>Alvin Kamara</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Wide Receivers</th>
</tr>
<tr>
<td>#0</td><td>Gabe Davis</td>
</tr>
<tr>
<td>#1</td><td>Stefon Diggs</td>
</tr>
<tr>
<td>#5</td><td>Garrett Wilson</td>
</tr>
<tr>
<td>#11</td><td>Jayden Reed</td>
</tr>
<tr>
<td>#15</td><td>Ladd McConkey</td>
</tr>
<tr>
<td>#17</td><td>Puka Nacua</td>
</tr>
<tr>
<td>#17</td><td>Xavier Legette</td>
</tr>
</table>
</div>
	
	
	<br>
	
<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Tight Ends</th>
</tr>
<tr>
<td>#85</td><td>George Kittle</td>
</tr>
<tr>
<td>#85</td><td>Tucker Kraft</td>
</tr>
<tr>
<td>#86</td><td>Dalton Shultz</td>
</tr>
</table>
</div>

	
<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Defense</th>
</tr>
<tr>
<td>#3</td><td>Budda Baker (S)</td>
</tr>
<tr>
<td>#7</td><td>Kyzir White (LB)</td>
</tr>
<tr>
<td>#7</td><td>Quay Walker (LB)</td>
</tr>
<tr>
<td>#23</td><td>Foyesade Oluokun (LB)</td>
</tr>
<tr>
<td>#32</td><td>Reed Blankenship (32)</td>
</tr>
<tr>
<td>#43</td><td>Terrel Bernard (LB)</td>
</tr>
<tr>
<td>#55</td><td>Cody Barton (LB)</td>
</tr>
</table>
</div>

	
<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Kickers</th>
</tr>
<tr>
<td>#8</td><td>Cairo Santos</td>
</tr>
</table>
</div>
	!-->
	
	<h3>List of General Managers</h3>
		
	<p>Within the rich tapestry of the Los Angeles Wildcats' fantasy journey, notable General Managers have played pivotal roles in shaping the team's narrative. From Liz Bautch's inaugural leadership to subsequent appointments, each GM has left an indelible mark on the franchise. This section pays homage to these visionary leaders, highlighting their strategic acumen and contributions that have woven the Wildcats into the fabric of fantasy football greatness.</p>
	
	
	<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>General Manager</th>
<th>Year</th>
<th>W</th>
<th>L</th>
<th>W%</th>
<th>GMoY</th>
<th>Lakefront Bowl Champs</th>
<th>Conf. Champs</th>
<th>Div. Champs</th>
<th>Playoffs</th>
<th>Winning Seasons</th>
</tr>
	  
	 <tr>
      <td>Liz Bautch</td>
      <td>2012-2016, 2021-Present</td>
      <td>87</td>
      <td>51</td>
		       <td>0.630</td>
      <td>1</td>		
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>7</td>
	  <td>7</td>
    </tr>
	  
	  <tr>
      <td>DeMario Suggs</td>
      <td>2019</td>
      <td>10</td>
      <td>5</td>
		       <td>0.667</td>
		  <td>0</td>		
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
		 <td>1</td>
    </tr>
	  
	  <tr>
      <td>Pete Jerving</td>
      <td>2017-2018</td>
      <td>11</td>
      <td>16</td>
		  		       <td>0.407</td>
      <td>0</td>		
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
		 <td>0</td>
    </tr>
	  
   </tbody>
</table>
	
			<br>
			<p>				
<img src="../../images/scl/fi/rmujtruzl0u20bbkxnekg/Los-Angeles-Jersey-LB-2012.png?rlkey=6fcesicfdb2mjowbvuvow9qwz&st=65d0qn3t&raw=1" width="154" height="150" alt=""/>
				
				<img src="../../images/scl/fi/qhqrjslgq6ult6r7n5bli/Los-Angeles-Jersey-PJ.png?rlkey=26bqxtbmnj7ff7ka9bwhnnq0q&st=i943x7xn&raw=1" width="154" height="150" alt=""/>
				
				
				<img src="../../images/scl/fi/7n3fnvgmb3atwt0rkt7v4/Los-Angeles-Jersey-DS.png?rlkey=ed6gphc24zrl3zq2rw25v2sjc&st=vqitdoka&raw=1" width="154" height="150" alt=""/>
	
	
				<img src="../../images/scl/fi/cmvsi1g3ilgdztjtzhbzg/Los-Angeles-Jersey-LB.png?rlkey=jad6j4g9h05m8o8vtza2ugxe9&st=r36wcsiz&raw=1" width="154" height="150" alt=""/></p>
	
	</div>
	
	
			<h3>Awards & Honors</h3>
	
	<h3>GLFL MVPs</h3>
		<table class="standard-table">
  <tbody>
    <tr>
    <th>Year</th>
	<th>Player</th>
	<th>Position</th>
	<th>Points Scored</th>
    </tr>

	  <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
	  
   </tbody>
</table>
			
			
			<h3>GM of the Year Award Winners</h3>
		<table class="standard-table">
  <tbody>
    <tr>
    <th>Year</th>
	<th>General Manager</th>
	<th>Record</th>
    </tr>

	  <tr>
      <td>2022</td>
      <td>Liz Bautch</td>
      <td>12-2</td>
    </tr>
	  
   </tbody>
</table>

		
		
		
		<h3>Lakefront Bowl Championships</h3>

<img src="../../images/scl/fi/lum360sbkq620p45h961m/2012-Champions-Logo.png?rlkey=od6uqja1kdowxabecq91ry6oe&st=z49kikl0&raw=1" width="207" height="200" alt=""/>

	</div>

	

	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    populateYearDropdown();
    populateGameTypeDropdown(); // ✅ populate Game Type
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.value="Los Angeles Wildcats"; // default
  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = document.getElementById("yearFilter").value;
  const gameTypeVal = document.getElementById("gameTypeFilter").value; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>
	
	
	
	
	
	</body>
</html>
