<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boston Brawlers</title>
<!-- ========================================================================================== LINKED STYLESHEETS ================== -->
<link rel="stylesheet" href="../../css/global.css">
<link rel="stylesheet" href="../../css/tables.css">

<style>

/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#3E3C49; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#3E3C49; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #3E3C49; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #3E3C49; /* PRIMARY */
  color: #ffffff;
}

/*tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #ffffff; }*/

tr:hover td, tr:hover th {
  background-color: #186EA8; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #3E3C49; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #186EA8; } /* SECONDARY */
.content a:hover { color: #186EA8; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#3E3C49; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.first {
  background: #3E3C49;
}

.second {
  background: #186EA8;
}
	
.third {
  background: #E82430;
}

</style>

<meta charset="UTF-8">
<title>Northern Arizona Wranglers</title>
</head>

<body>
	
<p>The Northern Arizona Wranglers, stationed in West Bend, Wisconsin, stand as a formidable presence in the GLFL's West division. Since joining the league in its inaugural year of 2012, the Wranglers, currently under the guidance of General Manager Jason Richmond, have etched their mark on the league, reaching the pinnacle of competition with two Lakefront Bowl Championship appearances in 2022 and 2023, though narrowly falling short to the Tucson Sugar Skulls and Milwaukee Mustangs, respectively.</p>
	
<table>
  <tbody>
	  <tr>
      <td colspan="2"><strong>Northern Arizona Wranglers</strong><br><img src="https://www.dropbox.com/scl/fi/c5iw9fpa7t4nrvlvkkgxf/N-Arizona.png?rlkey=coweke2gywtyeqv03z09jdsw5&st=7jeam70h&raw=1" width="163" height="200" alt=""/></td>
    </tr>
    <tr>
      <td><strong>Established</strong></td>
      <td>2012</td>
    </tr>
    <tr>
      <td><strong>Headquarters</strong></td>
      <td>West Bend, WI</td>
    </tr>
	  	  	<tr>
		<td><strong>Team Colors</strong></td>
		<td><div class="box first"></div>
		<div class="box second"></div>
		<div class="box third"></div>
			</td></tr>
    <tr>
      <th colspan="2"><strong>Conference Affiliations</strong></th>
    </tr>
    <tr>
      <td><strong>West</strong></td>
      <td>2012-Present</td>
    </tr>
	  <tr>
      <th colspan="2"><strong>Personnel</strong></th>
    </tr>  
    <tr>
      <td><strong>General Manager</strong></td>
      <td>Jason Richmond</td>
    </tr>
	  <tr>
      <th colspan="2"><strong>Team History</strong></th>
    </tr> 
    	  <tr>
      <td colspan="2">Northern Arizona Wranglers (2012-Present)</td>
    </tr> 
  	  <tr>
      <th colspan="2"><strong>Championships</strong></th>
    </tr> 
    <tr>
      <td><strong>GLFL (0)</strong></td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>Conference (2)</strong></td>
      <td>2022, 2023</td>
    </tr>
	    <tr>
      <td><strong>Division (2)</strong></td>
      <td>2016, 2023</td>
    </tr>
		    <tr>
      <td><strong>Playoffs (4)</strong></td>
      <td>2012, 2015, 2022, 2023</td>
    </tr>
		    <tr>
      <td><strong>Winning Seasons (4)</strong></td>
      <td>2012, 2015, 2016, 2023<br></td>
    </tr>
	  <tr>
      <td colspan="2"><strong>Northern Arizona Wranglers</strong><br><img src="https://www.dropbox.com/scl/fi/9hlkzwiz09riqsxhcvq2c/N-Arizona-Helmet.png?rlkey=nvdn402yrfj0pcg4nwiv9mkeu&st=l7bav7cg&raw=1" width="187" height="150" alt=""/></td>
    </tr>
  </tbody>
</table>


<p> </p>

	
	
	<h3>Franchise History</h3>
	
<p>The Northern Arizona Wranglers were one of the original franchises, joining the league in 2012 under the leadership of general manager Steve Hruz. The team competed in the West Division throughout its history and experienced a mix of highs and lows over more than a decade of play.</p>
	
	<p>The Wranglers’ inaugural season in 2012 was promising, as they finished 9-5 before falling in the first round of the playoffs to Tucson. However, consistency proved elusive in the early years. From 2013 to 2014, the team endured consecutive losing seasons, failing to qualify for the postseason. In 2015, Northern Arizona bounced back with a 7-6 record, advancing to the second round of the playoffs after defeating Chicago before losing a nail-biter to Milwaukee.</p>
	
	<p>The 2016 season marked an unusual milestone when the Wranglers captured the West Division title despite finishing only 7-6, but they were denied a playoff berth due to league format rules at the time. Another losing season followed in 2017 before a major front office shift occurred in 2018, with Dan Shilts taking over as GM. That year brought another down campaign at 5-9, though the season was notable as Saquon Barkley won league MVP while on Northern Arizona’s roster.</p>
	
	<p>After the COVID-19 shutdown in 2020, the team’s fortunes changed dramatically in 2022, when they reached their first-ever Lakefront Bowl Championship game. That season featured a Cinderella playoff run: a 6-8 regular-season record, a first-round win over Vegas, and a stunning upset of Cleveland in the semifinals. Ultimately, the Wranglers fell short in the title game against Tucson, but Austin Ekeler earned league MVP honors for his stellar performance.</p>
	
	<p>In 2023, Northern Arizona once again made a deep postseason run after finishing 9-5 claiming the division crown. They advanced to the Lakefront Bowl Championship game by defeating Philadelphia in the semifinals before losing to Milwaukee. GM Dan Shilts was rewarded for his efforts by winning GM of the Year. However, the success was short-lived as the Wranglers regressed to 4-10 in 2024 under new GM Jason Richmond, missing the playoffs and signaling the beginning of another rebuild.</p>
	
	</div>

		<h3>List of Northern Arizona Seasons</h3>
	
<p>Explore the journey of the Northern Arizona Wranglers through the annals of the GLFL with our comprehensive list of seasons. This documentation outlines the season-by-season records of the Wranglers franchise from its inception in 2012 to the present day. Delve into each season's post-season accomplishments, league awards, and the guiding hands of the General Managers who steered the team through the dynamic landscape of fantasy football competition.</p>

	<table>
	<tbody>
		<tr>
		<td bgcolor="#FFCBA4">Lakefront Bowl Champions</td>
		<td bgcolor="#A2E4B8">Conference Champions</td>
		<td bgcolor="#9BD3DD">Division Champions</td>
		</tr>
		</tbody>
	</table>
	<br>

	
	<table>
  <tbody>
    <tr>
      <th>Year</th>
      <th>Div</th>
      <th>W</th>
      <th>L</th>
      <th>Postseason</th>
      <th>Awards</th>
      <th>GM</th>
    </tr>

	  <tr>
    <td>2012</td>
    <td>West</td>
    <td>9</td>
    <td>5</td>
	<td>Round 1 vs Tucson 62-104 L</td>
    <td> </td>
    <td rowspan="6">Hruz</td>
  </tr>

	    <tr>
    <td>2013</td>
    <td>West</td>
    <td>5</td>
    <td>9</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2014</td>
    <td>West</td>
    <td>4</td>
    <td>9</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2015</td>
    <td>West</td>
    <td>7</td>
    <td>6</td>
	<td>Round 1 vs Chicago 112-91 W<br>
			Round 2 vs Milwaukee 144-145 L</td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2016</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>7</td>
    <td>6</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2017</td>
    <td>West</td>
    <td>6</td>
    <td>7</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2018</td>
    <td>West</td>
    <td>5</td>
    <td>9</td>
	<td> </td>
    <td>MVP</td>
			<td rowspan="2">Shilts</td>
    </tr>
	  
	  
	    <tr>
    <td>2019</td>
    <td>West</td>
    <td>6</td>
    <td>7</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
  <td colspan="7">
  Season Canceled
  </td>
  </tr>
	  
	  	    <tr>
    <td>2021</td>
    <td>West</td>
    <td>5</td>
    <td>9</td>
	<td> </td>
    <td> </td>
			<td rowspan="3">Shilts</td>
	  </tr>
	  
	  
	  	  	    <tr>
    <td>2022</td>
    <td>West</td>
    <td>6</td>
    <td>8</td>
	<td bgcolor="#A2E4B8">Round 1 vs Vegas 161-152 W<br>
					Round 2 vs Cleveland 162-112 W<br>
					Championship vs Tucson 122-185 L</td>
    <td>MVP</td>
	  </tr>
	  
	  
	  
	  	  	  	    <tr>
    <td>2023</td>
    <td bgcolor="#9BD3DD">West</td>
    <td>9</td>
    <td>5</td>
	<td bgcolor="#A2E4B8">Round 2 vs Philadelphia 222-183 W<br>
					Championship vs Milwaukee 137-182 L</td>
    <td>GMoY</td>
	  </tr>
	  
	  
	  	    <tr>
    <td>2024</td>
    <td>West</td>
    <td>4</td>
    <td>10</td>
	<td> </td>
    <td></td>
		<td>Richmond</td>
    </tr>
	  
	  
	  
	  
	  
	  <tr>
	  <td colspan="2">Season Record</td>
	  <td>73</td>
	  <td>90</td>
	  </tr>
	  
	  	  <tr>
	  <td colspan="2">Playoff Record</td>
	  <td>4</td>
	  <td>5</td>
	  </tr>
	  
	  	  <tr>
	  <td colspan="2">Total Record</td>
	  <td>77</td>
	  <td>95</td>
	  </tr>
	  
  </tbody>
</table>
	
	<p> </p>
	</div>
	
	
	
<h3>Head to Head Records</h3>
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
		<h3>Players/General Managers of Note</h3>
<!--<h3>Current Roster</h3>
	

<div class="table-container">
<table>
<tr>
<th colspan="2">Quarterbacks</th>
</tr>
<tr>
<td>#4</td><td>Derek Carr</td>
</tr>
<tr>
<td>#7</td><td>Geno Smith</td>
</tr>
<tr>
<td>#10</td><td>Jordan Love</td>
</tr>
</table>
</div>

<div class="table-container">
<table>
<tr>
<th colspan="2">Running Backs</th>
</tr>
<tr>
<td>#4</td><td>Gus Edwards</td>
</tr>
<tr>
<td>#26</td><td>Devin Singletary</td>
</tr>
<tr>
<td>#28</td><td>Joe Mixon</td>
</tr>
<tr>
<td>#29</td><td>Kareem Hunt</td>
</tr>
<tr>
<td>#30</td><td>Austin Ekeler</td>
</tr>
<tr>
<td>#41</td><td>Alvin Kamara</td>
</tr>
</table>
</div>

<div class="table-container">
<table>
<tr>
<th colspan="2">Wide Receivers</th>
</tr>
<tr>
<td>#0</td><td>Gabe Davis</td>
</tr>
<tr>
<td>#1</td><td>Stefon Diggs</td>
</tr>
<tr>
<td>#5</td><td>Garrett Wilson</td>
</tr>
<tr>
<td>#11</td><td>Jayden Reed</td>
</tr>
<tr>
<td>#15</td><td>Ladd McConkey</td>
</tr>
<tr>
<td>#17</td><td>Puka Nacua</td>
</tr>
<tr>
<td>#17</td><td>Xavier Legette</td>
</tr>
</table>
</div>
	
	
	<br>
	
<div class="table-container">
<table>
<tr>
<th colspan="2">Tight Ends</th>
</tr>
<tr>
<td>#85</td><td>George Kittle</td>
</tr>
<tr>
<td>#85</td><td>Tucker Kraft</td>
</tr>
<tr>
<td>#86</td><td>Dalton Shultz</td>
</tr>
</table>
</div>

	
<div class="table-container">
<table>
<tr>
<th colspan="2">Defense</th>
</tr>
<tr>
<td>#3</td><td>Budda Baker (S)</td>
</tr>
<tr>
<td>#7</td><td>Kyzir White (LB)</td>
</tr>
<tr>
<td>#7</td><td>Quay Walker (LB)</td>
</tr>
<tr>
<td>#23</td><td>Foyesade Oluokun (LB)</td>
</tr>
<tr>
<td>#32</td><td>Reed Blankenship (32)</td>
</tr>
<tr>
<td>#43</td><td>Terrel Bernard (LB)</td>
</tr>
<tr>
<td>#55</td><td>Cody Barton (LB)</td>
</tr>
</table>
</div>

	
<div class="table-container">
<table>
<tr>
<th colspan="2">Kickers</th>
</tr>
<tr>
<td>#8</td><td>Cairo Santos</td>
</tr>
</table>
</div>
	!-->
	
	<h3>List of General Managers</h3>
		
	<p>Embark on a reflection of pivotal leadership in the Northern Arizona Wranglers' history as we highlight notable General Managers who played instrumental roles in shaping the team's destiny. From the tenure of Steve Hruz, who navigated the initial six seasons, to the multiple conference championships under Dan Shilts, to the current reign of Jason Richmond. These astute leaders have left an indelible mark on the Wranglers's journey, contributing to the team's resilience and competitive spirit in the ever-evolving landscape of fantasy football.</p>
	
	
	<table>
  <tbody>
    <tr>
      <th>General Manager</th>
      <th>Year</th>
      <th>W</th>
      <th>L</th>
      <th>W%</th>
		<th>GMoY</th>
      <th>Lakefront Bowl Champs</th>
      <th>Conf. Champs</th>
      <th>Div. Champs</th>
      <th>Playoffs</th>
		<th>Winning Seasons</th>
    </tr>
	  
	 <tr>
      <td>Jason Richmond</td>
      <td>2024-Present</td>
      <td>4</td>
      <td>10</td>
      <td>0.286</td>
		 <td>0</td>		
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
		 <td>0</td>
    </tr>
	  
	  
	  <tr>
      <td>Dan Shilts</td>
      <td>2018-2023</td>
      <td>34</td>
      <td>41</td>
      <td>0.453</td>		  
      <td>1</td>		
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
		 <td>1</td>
    </tr>
	  
	  
	  
	  <tr>
      <td>Steve Hruz</td>
      <td>2012-2017</td>
      <td>39</td>
      <td>44</td>
      <td>0.470</td>
		  <td>0</td>		
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
		 <td>3</td>
    </tr>
	  
   </tbody>
</table>
		
	
	
			<br>
			<p>				
<img src="https://www.dropbox.com/scl/fi/c4df116pbw2uxesinikd6/N-Arizona-Jersey-SH.png?rlkey=nf4m6yfhz1gg9hkkxeesaz0mc&st=83k50dm1&raw=1" width="154" height="150" alt=""/>
				
				<img src="https://www.dropbox.com/scl/fi/i7kn825zan1385zvqa5v5/N-Arizona-Jersey-DS.png?rlkey=41oyuwfb5cpp9jlw48i91dk6t&st=almmcmup&raw=1" width="154" height="150" alt=""/>
				
				<img src="https://www.dropbox.com/scl/fi/ajucdhr4v974vzcexnysm/N-Arizona-Jersey-JR.png?rlkey=p5v26c39p7879zo0uwnitsgsc&st=uokgtw3a&raw=1" width="154" height="150" alt=""/>
	
	</p>

	
	</div>
	
	
		<h3>Awards & Honors</h3>
		
		
	<h3>GLFL MVPs</h3>
		<table>
  <tbody>
    <tr>
    <th>Year</th>
	<th>Player</th>
	<th>Position</th>
	<th>Points Scored</th>
    </tr>

	  <tr>
      <td>2018</td>
      <td>Saquon Barkley</td>
      <td>RB</td>
      <td>386</td>
    </tr>
	  
	  
	  <tr>
      <td>2022</td>
      <td>Austin Ekeler</td>
      <td>RB</td>
      <td>381</td>
    </tr>
	  
	  
   </tbody>
</table>
								<h3>GM of the Year Award Winners</h3>
		<table>
  <tbody>
    <tr>
    <th>Year</th>
	<th>General Manager</th>
	<th>Record</th>
    </tr>

	  <tr>
      <td>2023</td>
      <td>Dan Shilts</td>
      <td>9-5</td>
    </tr>


   </tbody>
</table>

		
		
	</div>
	

	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    populateYearDropdown();
    populateGameTypeDropdown(); // ✅ populate Game Type
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.value="Northern Arizona Wranglers"; // default
  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = document.getElementById("yearFilter").value;
  const gameTypeVal = document.getElementById("gameTypeFilter").value; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	</body>
</html>
