<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vegas Knight Hawks</title>
<!-- ========================================================================================== LINKED STYLESHEETS ================== -->
<link rel="stylesheet" href="../../css/global.css">
<link rel="stylesheet" href="../../css/tables.css">
<link rel="stylesheet" href="../../css/colorboxes.css">

<style>
/* ========================================================================================== Controls + Cards ====== */
.controls { 
text-align:center; 
margin:15px 0; 
display:flex; 
flex-wrap:wrap; 
justify-content:center; 
gap:10px; 
}

select, input[type="text"] { 
padding:8px 10px; 
font-size:14px; 
}

.summary { 
display:flex; 
justify-content: center; 
gap:20px; 
margin:15px 0; 
flex-wrap:wrap; 
}

/* stronger, general winner highlight (covers .h2h tables + your match table) */
.h2h td.winner,
.divisions-table td.winner,
#matchTable td.winner,
.table-wrap td.winner {
font-weight: 700 !important;
background: #F5E6C8 !important;
color: #002855 !important;
position: relative;
z-index: 2;
}

.no-data, .loading { 
text-align:center; 
margin-top:14px; 
color:#666; 
}

.table-wrap {
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}

.table-wrap table {
width: 100%;
min-width: 600px;
}
</style>
</head>

<body>

<!-- ========================================================================================== LOGO BAR ================== -->
<div class="team-logo-bar">
<div class="team-logo-container">
<a href="../Teams/Boston.html"><img src="../../images/Boston.png" alt="Boston" /></a>
<a href="../Teams/Brooklyn.html"><img src="../../images/Brooklyn.png" alt="Brooklyn" /></a>
<a href="../Teams/CedarRapids.html"><img src="../../images/CedarRapids.png" alt="Cedar Rapids" /></a>
<a href="../Teams/Chicago.html"><img src="../../images/Chicago.png" alt="Chicago" /></a>
<a href="../Teams/Cleveland.html"><img src="../../images/Cleveland.png" alt="Cleveland" /></a>
<a href="../Teams/LosAngeles.html"><img src="../../images/LosAngeles.png" alt="Los Angeles" /></a>
<a href="../Teams/Miami.html"><img src="../../images/Miami.png" alt="Miami" /></a>
<a href="../Teams/Milwaukee.html"><img src="../../images/Milwaukee.png" alt="Milwaukee" /></a>
<a href="../Teams/NorthernArizona.html"><img src="../../images/NorthernArizona.png" alt="Northern Arizona" /></a>
<a href="../Teams/Philadelphia.html"><img src="../../images/Philadelphia.png" alt="Philadelphia" /></a>
<a href="../Teams/Tucson.html"><img src="../../images/Tucson.png" alt="Tucson" /></a>
<a href="../Teams/Vegas.html"><img src="../../images/Vegas.png" alt="Vegas" /></a>
</div>
</div>

<!-- ========================================================================================== MAIN NAV ================== -->
<nav class="main-nav">
<div class="nav-container">

<a href="../../index.html" class="logo">
<img src="../../images/Logo.png" alt="League Logo" />
</a>

<input type="checkbox" id="menu-toggle" class="menu-toggle" aria-label="Toggle menu" />
<label for="menu-toggle" class="hamburger">&#9776;</label>

<!-- Nav Links -->
<ul class="nav-links">
<li class="dropdown">
<a href="#">About</a>
<ul class="dropdown-content">
<li><a href="../About.html">Who We Are</a></li>
<li><a href="../Bylaws.html">Bylaws</a></li>
</ul>
</li>

<li><a href="../News.html">News</a></li>

<li class="dropdown">
<a href="#">History</a>
<ul class="dropdown-content">
<li><a href="../History.html">History of the GLFL</a></li>
<li><a href="../Seasons.html">GLFL Seasons</a></li>
<li><a href="../Champions.html">Lakefront Bowl Champions</a></li>
<li><a href="../Awards.html">Individual Award Winners</a></li>
<li><a href="../RecordBook.html">Record Book</a></li>
</ul>
</li>

<li class="dropdown">
<a href="#">Schedule &amp; Standings</a>
<ul class="dropdown-content">
<li><a href="../Standings.html">Standings</a></li>
<li><a href="../WeeklySchedule.html">Weekly Schedule</a></li>
</ul>
</li>

<li><a href="../Teams.html">Teams</a></li>
<li><a href="../Draft.html">Draft</a></li>
</ul>
</div>
</nav>

<div class="text-container">


<p>In the realm of fantasy football, the Vegas Knight Hawks have emerged as a formidable force within the GLFL. Anchored in Greenfield, Wisconsin, the Knight Hawks have been a dynamic presence in the league since its inception in 2012. Boasting a rich history, the team has etched its name in glory, earning two coveted Lakefront Bowls in 2015 and 2018. Currently, under the astute leadership of General Manager David Nguyen, the Knight Hawks continue their pursuit of greatness, adding chapters to their saga of success within the West division of the GLFL.</p>

<table class="standard-table">
<tbody>
<tr>
<td colspan="2"><strong>Vegas Knight Hawks</strong><br><img src="../../images/Vegas.png" width="295" height="200" alt=""/></td>
</tr>
<tr>
<td><strong>Established</strong></td>
<td>2012</td>
</tr>
<tr>
<td><strong>Headquarters</strong></td>
<td>Greenfield, WI</td>
</tr>
<tr>
<td><strong>Team Colors</strong></td>
<td><div class="box Vegas"></div> <div class="box Vegas2"></div> <div class="box Vegas3"></div></td></tr>

<tr>
<th colspan="2"><strong>Conference Affiliations</strong></th>
</tr>
<tr>
<td><strong>West</strong></td>
<td>2012-Present</td>
</tr>
<tr>
<th colspan="2"><strong>Personnel</strong></th>
</tr>  
<tr>
<td><strong>General Manager</strong></td>
<td>David Nguyen</td>
</tr>
<tr>
<th colspan="2"><strong>Team History</strong></th>
</tr> 
<tr>
<td colspan="2">Vegas Knight Hawks (2012-Present)</td>
</tr> 
<tr>
<th colspan="2"><strong>Championships</strong></th>
</tr> 
<tr>
<td><strong>Lakefront Bowl (2)</strong></td>
<td>2015 (IV), 2018 (VII)</td>
</tr>
<tr>
<td><strong>Conference (2)</strong></td>
<td>2015, 2018</td>
</tr>
<tr>
<td><strong>Division (1)</strong></td>
<td>2015</td>
</tr>
<tr>
<td><strong>Playoffs (5)</strong></td>
<td>2015, 2018, 2019, 2022,<br> 2024</td>
</tr>
<tr>
<td><strong>Winning Seasons (4)</strong></td>
<td>2015, 2018, 2019, 2022</td>
</tr>
<tr>
<td colspan="2"><img src="../../images/Helmets/VegasHelmet.png" width="187" height="150" alt=""/></td>
</tr>
</tbody>
</table>
<h3>Franchise History</h3>

<p>The Vegas Knight Hawks began their journey under GM David Nguyen in 2012, finishing their inaugural season with a 1–13 record and missing the playoffs. The following year, Ashley Coppersmith took over and led the team to a more respectable 7–7 record, though the postseason still eluded them. Coppersmith remained in charge through 2016, navigating a mix of highs and lows, most notably the 2015 season when the Knight Hawks captured the West Division title, defeated Boston and Brooklyn in the first two playoff rounds, and claimed the Championship over Milwaukee.</p>

<p>After a brief stint under Matt Winkels in 2017, during which the team finished 4–9 without a playoff appearance, Coppersmith returned in 2018. That year, the Knight Hawks posted a 9–5 record, defeated Chicago in the second playoff round, and won the Championship against Cedar Rapids, re-establishing their dominance in the West Division. Coppersmith continued managing through 2023, experiencing a range of outcomes, including an 8–5 record in 2019 with a first-round loss to Brooklyn and an 11–3 campaign in 2022 that ended with a playoff defeat to Cedar Rapids.</p>

<p>David Nguyen returned as GM in 2024, guiding the Knight Hawks to a 7–7 record and a first-round playoff loss to Chicago. Despite the managerial changes and fluctuating season results, the Knight Hawks have maintained a competitive presence in the West Division, highlighted by their two Championship victories in 2015 and 2018.</p>


<h3>List of Vegas Seasons</h3>

<p>Dive into the compelling story of the Vegas Knight Hawks through a chronological exploration of their season-by-season records. From the inaugural season in 2012 under David Nguyen's guidance and subsequent re-hiring after 12 years to the triumphant years led by Ashley Coppersmith, each season encapsulates the team's journey, post-season endeavors, notable league awards, and the visionary minds that steered the franchise. The Knight Hawks' narrative unfolds, revealing the nuances of their victories, challenges, and the collective efforts that have defined their presence in the GLFL landscape.</p>

<table class="standard-table">
<tbody>
<tr>
<td bgcolor="#FFCBA4">Lakefront Bowl Champions</td>
<td bgcolor="#A2E4B8">Conference Champions</td>
<td bgcolor="#9BD3DD">Division Champions</td>
</tr>
</tbody>
</table>


<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>Year</th>
<th>Div</th>
<th>W</th>
<th>L</th>
<th>Postseason</th>
<th>Awards</th>
<th>GM</th>
</tr>

<tr>
<td>2012</td>
<td>West</td>
<td>1</td>
<td>13</td>
<td> </td>
<td> </td>
<td>Nguyen</td>
</tr>

<tr>
<td>2013</td>
<td>West</td>
<td>7</td>
<td>7</td>
<td>  </td>
<td> </td>
<td rowspan="4">Coppersmith</td>
</tr>

<tr>
<td>2014</td>
<td>West</td>
<td>2</td>
<td>11</td>
<td> </td>
<td> </td>
</tr>

<tr>
<td>2015</td>
<td bgcolor="#9BD3DD">West</td>
<td>8</td>
<td>5</td>
<td bgcolor="FFCBA4">Wild Card vs Boston 108-77 W<br><br>
Divisonal Playoffs vs Brooklyn 143-112 W<br><br>
Lakefront Bowl vs Milwaukee 143-103 W</td>
<td> </td>
</tr>

<tr>
<td>2016</td>
<td>West</td>
<td>6</td>
<td>7</td>
<td> </td>
<td> </td>
</tr>

<tr>
<td>2017</td>
<td>West</td>
<td>4</td>
<td>9</td>
<td> </td>
<td> </td>
<td>Winkels</td>
</tr>

<tr>
<td>2018</td>
<td>West</td>
<td>9</td>
<td>5</td>
<td bgcolor="FFCBA4">Divisonal Playoffs vs Chicago 169-123 W<br><br>
Lakefront Bowl vs Cedar Rapids 213-156 W</td>
<td> </td>
<td rowspan="2">Coppersmith</td>
</tr>


<tr>
<td>2019</td>
<td>West</td>
<td>8</td>
<td>5</td>
<td>Wild Card vs Boston 106-116 L</td>
<td> </td>
</tr>

<tr>
<td colspan="7">
Season Canceled
</td>
</tr>

<tr>
<td>2021</td>
<td>West</td>
<td>7</td>
<td>7</td>
<td> </td>
<td> </td>
<td rowspan="3">Coppersmith</td>
</tr>


<tr>
<td>2022</td>
<td>West</td>
<td>11</td>
<td>3</td>
<td>Wild Card vs Cedar Rapids 152-161 L</td>
<td> </td>
</tr>


<tr>
<td>2023</td>
<td>West</td>
<td>5</td>
<td>9</td>
<td> </td>
<td> </td>
</tr>




<tr>
<td>2024</td>
<td>West</td>
<td>7</td>
<td>7</td>
<td>Wild Card vs. Chicago 170-208 L</td>
<td></td>
<td rowspan="2">Nguyen</td>
</tr>
	
	
<tr>
<td>2025</td>
<td>West</td>
<td>4</td>
<td>10</td>
<td></td>
<td></td>
</tr>



<tr>
<td colspan="2">Season Record</td>
<td>79</td>
<td>98</td>
</tr>

<tr>
<td colspan="2">Playoff Record</td>
<td>5</td>
<td>3</td>
</tr>

<tr>
<td colspan="2">Total Record</td>
<td>84</td>
<td>101</td>
</tr>

</tbody>
</table>
</div>
	
	
<img src="../../images/Banners/2015Banner.png" width="139" height="250" alt=""/>

<img src="../../images/Banners/2018Banner.png" width="139" height="250" alt=""/>



<h3>Head to Head Records</h3>
<div class="standard-table">

<div class="controls">
<!-- Hardcoded Team 1 label -->
<label>Team 1:</label>
<span>Tucson Sugar Skulls</span>

<!-- Team 2 dropdown -->
<label for="team2">Team 2:</label>
<select id="team2">
<option value="ALL_TEAMS">— All Teams —</option>
</select>

<!-- Year dropdown -->
<label for="yearSelect">Year:</label>
<select id="yearSelect">
<option value="ALL_YEARS">— All Years —</option>
</select>

<!-- Game type dropdown -->
<label for="gameTypeFilter">Game Type:</label>
<select id="gameTypeFilter">
<option value="ALL_TYPES">— All Types —</option>
</select>
</div>



<div class="loading" id="loadingMsg">Loading match data...</div>

<div id="matchTableWrap" style="display:none;">
<div class="table-wrap"> <!-- <-- add this wrapper -->
<table class="standard-table" id="matchTable">
<thead>
<tr>
<th style="width:120px">Week</th>
<th>Team 1</th>
<th>Team 2</th>
<th style="width:120px">Score</th>
<th>Game Type</th> <!-- ✅ new column -->
</tr>
</thead>
<tbody></tbody>
</table>
<div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
</div> <!-- /.table-wrap -->
</div>
</div>





<h3>Players/General Managers of Note</h3>
<!--<h3>Current Roster</h3>


<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Quarterbacks</th>
</tr>
<tr>
<td>#4</td><td>Derek Carr</td>
</tr>
<tr>
<td>#7</td><td>Geno Smith</td>
</tr>
<tr>
<td>#10</td><td>Jordan Love</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Running Backs</th>
</tr>
<tr>
<td>#4</td><td>Gus Edwards</td>
</tr>
<tr>
<td>#26</td><td>Devin Singletary</td>
</tr>
<tr>
<td>#28</td><td>Joe Mixon</td>
</tr>
<tr>
<td>#29</td><td>Kareem Hunt</td>
</tr>
<tr>
<td>#30</td><td>Austin Ekeler</td>
</tr>
<tr>
<td>#41</td><td>Alvin Kamara</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Wide Receivers</th>
</tr>
<tr>
<td>#0</td><td>Gabe Davis</td>
</tr>
<tr>
<td>#1</td><td>Stefon Diggs</td>
</tr>
<tr>
<td>#5</td><td>Garrett Wilson</td>
</tr>
<tr>
<td>#11</td><td>Jayden Reed</td>
</tr>
<tr>
<td>#15</td><td>Ladd McConkey</td>
</tr>
<tr>
<td>#17</td><td>Puka Nacua</td>
</tr>
<tr>
<td>#17</td><td>Xavier Legette</td>
</tr>
</table>
</div>


<br>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Tight Ends</th>
</tr>
<tr>
<td>#85</td><td>George Kittle</td>
</tr>
<tr>
<td>#85</td><td>Tucker Kraft</td>
</tr>
<tr>
<td>#86</td><td>Dalton Shultz</td>
</tr>
</table>
</div>


<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Defense</th>
</tr>
<tr>
<td>#3</td><td>Budda Baker (S)</td>
</tr>
<tr>
<td>#7</td><td>Kyzir White (LB)</td>
</tr>
<tr>
<td>#7</td><td>Quay Walker (LB)</td>
</tr>
<tr>
<td>#23</td><td>Foyesade Oluokun (LB)</td>
</tr>
<tr>
<td>#32</td><td>Reed Blankenship (32)</td>
</tr>
<tr>
<td>#43</td><td>Terrel Bernard (LB)</td>
</tr>
<tr>
<td>#55</td><td>Cody Barton (LB)</td>
</tr>
</table>
</div>


<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Kickers</th>
</tr>
<tr>
<td>#8</td><td>Cairo Santos</td>
</tr>
</table>
</div>
!-->

<h3>List of General Managers</h3>

<p>Though recently retired, Ashley Coppersmith remains a perennial figure in the Vegas Knight Hawks’ history. Serving as the General Manager for the majority of the Knight Hawks’ existence, Coppersmith’s leadership was synonymous with success, bringing home two Lakefront Bowls in 2015 and 2018. Her resilience, commitment, and strategic acumen have left an indelible mark on the franchise. While brief managerial transitions, including David Nguyen’s initial tenure in 2012, have occurred, it is Coppersmith’s enduring impact that resonates. Now, with Nguyen reappointed as GM, the Knight Hawks are looking to recapture their former glory, but it is Coppersmith who solidified her status as a luminary figure in the Knight Hawks’ journey through the annals of the GLFL.</p>


<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>General Manager</th>
<th>Year</th>
<th>W</th>
<th>L</th>
<th>W%</th>
<th>GMoY</th>
<th>Lakefront Bowl Champs</th>
<th>Conf. Champs</th>
<th>Div. Champs</th>
<th>Playoffs</th>
<th>Winning Seasons</th>
</tr>

<tr>
<td>David Nguyen</td>
<td>2012, 2024-Present</td>
<td>12</td>
<td>31</td>
<td>0.276</td>
<td>0</td>		
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>



<tr>
<td>Ashley Coppersmith</td>
<td>2013-2016, 2018-2023</td>
<td>68</td>
<td>61</td>
<td>0.527</td>
<td>0</td>		
<td>2</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>4</td>
</tr>
<tr>
<td>Matt Winkels</td>
<td>2017</td>
<td>4</td>
<td>9</td>
<td>0.308</td>
<td>0</td>		
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>


</tbody>
</table>
</div>

	
<p>				
<img src="../../images/Jerseys/VegasJersey-Nguyen2.png" width="125" height="150" alt=""/>

<img src="../../images/Jerseys/VegasJersey-Coppersmith2.png" width="125" height="150" alt=""/>

<img src="../../images/Jerseys/VegasJersey-Winkels.png" width="125" height="150" alt=""/>

<img src="../../images/Jerseys/VegasJersey-Coppersmith1.png" width="125" height="150" alt=""/>

<img src="../../images/Jerseys/VegasJersey-Nguyen1.png" width="125" height="150" alt=""/>

</p>



<h3>Awards &amp; Honors</h3>




<h3>GLFL MVPs</h3>
<table class="standard-table">
<tbody>
<tr>
<th>Year</th>
<th>Player</th>
<th>Position</th>
<th>Points Scored</th>
</tr>

<tr>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>

</tbody>
</table>




<h3>GM of the Year Award Winners</h3>
<table>
<tbody>
<tr>
<th>Year</th>
<th>General Manager</th>
<th>Record</th>
</tr>

<tr>
<td></td>
<td></td>
<td></td>
</tr>


</tbody>
</table>

<h3>Lakefront Bowls</h3>

<img src="../../images/Banners/2015Banner.png" width="139" height="250" alt=""/>

<img src="../../images/Banners/2018Banner.png" width="139" height="250" alt=""/>

</div>









<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
const headers = lines.shift().split(",").map(h => h.trim());
return lines.map(line => {
const cols = line.split(",").map(c => c.trim());
const obj = {};
headers.forEach((h,i)=> obj[h]=cols[i]??"");
return obj;
});
}

function parseDate_mmddyy(s) {
if (!s) return null;
const parts = s.split("/").map(p=>parseInt(p,10));
if (parts.length!==3 || parts.some(isNaN)) return null;
let [m,d,y]=parts;
if (y<100) y+=2000;
return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
if (!dateObj) return "N/A";
const m=String(dateObj.getMonth()+1).padStart(2,"0");
const d=String(dateObj.getDate()).padStart(2,"0");
const yy=String(dateObj.getFullYear()).slice(-2);
return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
try {
const res = await fetch(csvUrl);
if(!res.ok) throw new Error("Network error "+res.status);
const text = await res.text();
const rows = parseCsvToObjects(text);

allMatches = rows.map(r=>{
const d=parseDate_mmddyy(r["Date"]);
return {
rawDate: r["Date"]||"",
date: d,
team1: (r["Team 1"]||"").trim(),
team2: (r["Team 2"]||"").trim(),
score1: parseInt(r["Team 1 Score"]||"0",10),
score2: parseInt(r["Team 2 Score"]||"0",10),
gameType: (r["Game Type"]||"").trim() // ✅ new field
};
}).filter(m=>m.team1 && m.team2);

const teamSet=new Set();
allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

populateDropdowns();
populateYearDropdown();
populateGameTypeDropdown(); // ✅ populate Game Type
document.getElementById("loadingMsg").style.display="none";
} catch(err) {
document.getElementById("loadingMsg").textContent="Error loading match data.";
console.error(err);
}
}

function populateDropdowns() {
const t1=document.getElementById("team1");
const t2=document.getElementById("team2");

teams.forEach(team=>{
const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
});

t1.value="Vegas Knight Hawks"; // default
t1.addEventListener("change", updateDisplay);
t2.addEventListener("change", updateDisplay);
document.getElementById("matchFilter").addEventListener("input", updateDisplay);
document.getElementById("yearFilter").addEventListener("change", updateDisplay);
document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

updateDisplay();
}

function populateYearDropdown(){
const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
const yearDropdown=document.getElementById("yearFilter");
Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
const opt=document.createElement("option");
opt.value=y;
opt.textContent=y;
yearDropdown.appendChild(opt);
});
}

function populateGameTypeDropdown() {
const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
const typeDropdown = document.getElementById("gameTypeFilter");

Array.from(typeSet).sort().forEach(t => {
const opt = document.createElement("option");
opt.value = t;
opt.textContent = t;
typeDropdown.appendChild(opt);
});

typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
if(m.score1>m.score2) return "winner";
if(m.score2>m.score1) return "winner";
return "";
}

function updateDisplay(){
const teamA = document.getElementById("team1").value;
const teamB = document.getElementById("team2").value;
const yearVal = document.getElementById("yearFilter").value;
const gameTypeVal = document.getElementById("gameTypeFilter").value; // ✅
const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

let filtered = allMatches.filter(m=>
(m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
(m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
);

if(yearVal!=="ALL_YEARS"){
filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
}

if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
filtered = filtered.filter(m => m.gameType === gameTypeVal);
}

if(searchVal!==""){
filtered = filtered.filter(m=>(
m.team1.toLowerCase().includes(searchVal) ||
m.team2.toLowerCase().includes(searchVal)
));
}

filtered.sort((a,b)=>b.date - a.date);

// --- SUMMARY CALCULATION ---
if (filtered.length > 0) {
let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
filtered.forEach(m => {
pfA += (m.team1 === teamA ? m.score1 : m.score2);
pfB += (m.team1 === teamB ? m.score1 : m.score2);

if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

if (teamB !== "ALL_TEAMS") {
if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
}
});

document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
document.getElementById("cardTeam1PF").textContent = pfA;

if (teamB === "ALL_TEAMS") {
document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
document.getElementById("cardTeam2Record").textContent = `N/A`;
document.getElementById("cardTeam2PF").textContent = `N/A`;
} else {
document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
document.getElementById("cardTeam2PF").textContent = pfB;
}

document.getElementById("summaryArea").style.display = "flex";
} else {
document.getElementById("summaryArea").style.display = "none";
}

const tbody = document.querySelector("#matchTable tbody");
tbody.innerHTML="";
filtered.forEach(m=>{
const tr = document.createElement("tr");
tr.innerHTML = `
<td>${formatDateShort(m.date)}</td>
<td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
<td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
<td>${m.score1} - ${m.score2}</td>
<td>${m.gameType || ""}</td>`;
tbody.appendChild(tr);
});

document.getElementById("matchTableWrap").style.display="block";
document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
coll[i].addEventListener("click", function() {
this.classList.toggle("active");
var content = this.nextElementSibling;
if (content.style.maxHeight){
content.style.maxHeight = null;
} else {
content.style.maxHeight = content.scrollHeight + "px";
} 
});
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
document.querySelectorAll(".collapsible.active + .content").forEach(content => {
content.style.maxHeight = content.scrollHeight + "px";
});
}
</script>







</body>
</html>
