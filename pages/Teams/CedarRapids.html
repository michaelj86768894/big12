<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cedar Rapids Titans</title>
<!-- ========================================================================================== LINKED STYLESHEETS ================== -->
<link rel="stylesheet" href="../../css/global.css">
<link rel="stylesheet" href="../../css/tables.css">

<style>
/* ========================================================================================== Controls + Cards ====== */
.controls { 
text-align:center; 
margin:15px 0; 
display:flex; 
flex-wrap:wrap; 
justify-content:center; 
gap:10px; 
}

select, input[type="text"] { 
padding:8px 10px; 
font-size:14px; 
}

.summary { 
display:flex; 
justify-content: center; 
gap:20px; 
margin:15px 0; 
flex-wrap:wrap; 
}

/* stronger, general winner highlight (covers .h2h tables + your match table) */
.h2h td.winner,
.divisions-table td.winner,
#matchTable td.winner,
.table-wrap td.winner {
font-weight: 700 !important;
background: #F5E6C8 !important;
color: #002855 !important;
position: relative;
z-index: 2;
}

.no-data, .loading { 
text-align:center; 
margin-top:14px; 
color:#666; 
}

.table-wrap {
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}

.table-wrap table {
width: 100%;
min-width: 600px;
}
</style>
</head>

<body>

<!-- ========================================================================================== LOGO BAR ================== -->
<div class="team-logo-bar">
<div class="team-logo-container">
<a href="../Teams/Boston.html"><img src="../../images/Boston.png" alt="Boston" /></a>
<a href="../Teams/Brooklyn.html"><img src="../../images/Brooklyn.png" alt="Brooklyn" /></a>
<a href="../Teams/CedarRapids.html"><img src="../../images/CedarRapids.png" alt="Cedar Rapids" /></a>
<a href="../Teams/Chicago.html"><img src="../../images/Chicago.png" alt="Chicago" /></a>
<a href="../Teams/Cleveland.html"><img src="../../images/Cleveland.png" alt="Cleveland" /></a>
<a href="../Teams/LosAngeles.html"><img src="../../images/LosAngeles.png" alt="Los Angeles" /></a>
<a href="../Teams/Miami.html"><img src="../../images/Miami.png" alt="Miami" /></a>
<a href="../Teams/Milwaukee.html"><img src="../../images/Milwaukee.png" alt="Milwaukee" /></a>
<a href="../Teams/NorthernArizona.html"><img src="../../images/NorthernArizona.png" alt="Northern Arizona" /></a>
<a href="../Teams/Philadelphia.html"><img src="../../images/Philadelphia.png" alt="Philadelphia" /></a>
<a href="../Teams/Tucson.html"><img src="../../images/Tucson.png" alt="Tucson" /></a>
<a href="../Teams/Vegas.html"><img src="../../images/Vegas.png" alt="Vegas" /></a>
</div>
</div>

<!-- ========================================================================================== MAIN NAV ================== -->
<nav class="main-nav">
<div class="nav-container">

<a href="../../index.html" class="logo">
<img src="../../images/Logo.png" alt="League Logo" />
</a>

<input type="checkbox" id="menu-toggle" class="menu-toggle" aria-label="Toggle menu" />
<label for="menu-toggle" class="hamburger">&#9776;</label>

<!-- Nav Links -->
<ul class="nav-links">
<li class="dropdown">
<a href="#">About</a>
<ul class="dropdown-content">
<li><a href="../About.html">Who We Are</a></li>
<li><a href="../Bylaws.html">Bylaws</a></li>
</ul>
</li>

<li><a href="../News.html">News</a></li>

<li class="dropdown">
<a href="#">History</a>
<ul class="dropdown-content">
<li><a href="../History.html">History of the GLFL</a></li>
<li><a href="../Seasons.html">GLFL Seasons</a></li>
<li><a href="../Champions.html">Lakefront Bowl Champions</a></li>
<li><a href="../Awards.html">Individual Award Winners</a></li>
<li><a href="../RecordBook.html">Record Book</a></li>
</ul>
</li>

<li class="dropdown">
<a href="#">Schedule &amp; Standings</a>
<ul class="dropdown-content">
<li><a href="../Standings.html">Standings</a></li>
<li><a href="../WeeklySchedule.html">Weekly Schedule</a></li>
</ul>
</li>

<li><a href="../Teams.html">Teams</a></li>
<li><a href="../Draft.html">Draft</a></li>
</ul>
</div>
</nav>

<div class="text-container">

<p>The Cedar Rapids Titans, a prominent contender in the realm of professional fantasy football, grace the GLFL stage as a formidable member of the Central division. Anchored in Waukesha, Wisconsin, the Titans have been a beacon of competition since the inception of the league in 2012. With a notable appearance in the 2018 Lakefront Bowl, where they faced off against the Vegas Knight Hawks, the Titans have etched their presence in the annals of fantasy football lore.</p>

<table class="standard-table">
<tbody>
<tr>
<td colspan="2"><strong>Cedar Rapids Titans</strong><br><img src="../../images/CedarRapids.png" width="179" height="200" alt=""/></td>
</tr>
<tr>
<td><strong>Established</strong></td>
<td>2012</td>
</tr>
<tr>
<td><strong>Headquarters</strong></td>
<td>Waukesha, WI</td>
</tr>
<tr>
<td><strong>Team Colors</strong></td>
<td><div class="box first"></div>
<div class="box second"></div>
<div class="box third"></div>
</td></tr>

<tr>
<th colspan="2"><strong>Division Affiliations</strong></th>
</tr>
<tr>
<td><strong>Central</strong></td>
<td>2012-2017, 2019-Present</td>
</tr>
<tr>
<td><strong>West</strong></td>
<td>2018</td>
</tr>

<tr>
<th colspan="2"><strong>Personnel</strong></th>
</tr>  
<tr>
<td><strong>General Manager</strong></td>
<td>Mitch Smith</td>
</tr>
<tr>
<th colspan="2"><strong>Team History</strong></th>
</tr> 
<tr>
<td colspan="2">Cedar Rapids Titans (2012-Present)</td>
</tr> 
<tr>
<th colspan="2"><strong>Championships</strong></th>
</tr> 
<tr>
<td><strong>Lakefront Bowl (0)</strong></td>
<td> </td>
</tr>
<tr>
<td><strong>Conference (1)</strong></td>
<td>2018</td>
</tr>
<tr>
<td><strong>Division (1)</strong></td>
<td>2018</td>
</tr>
<tr>
<td><strong>Playoffs (4)</strong></td>
<td>2013, 2016, 2018, 2022,<br>2025</td>
</tr>
<tr>
<td><strong>Winning Seasons (3)</strong></td>
<td>2013, 2016, 2018, 2025</td>
</tr>
<tr>
<td colspan="2"><img src="../../images/Helmets/CedarRapidsHelmet.png" width="187" height="150" alt=""/></td>
</tr>
</tbody>
</table>
<h3>Franchise History</h3>

<p>The Cedar Rapids Titans have had a turbulent history in the GLFL, marked by early struggles, frequent leadership changes, and a single near-championship run in 2018. Despite flashes of success, consistency has largely eluded the franchise over its tenure.</p>

<p>The Titans debuted in 2012 under GM Mitch Smith, finishing 4-10 and missing the playoffs. The team improved dramatically the next season under new GM Amanda Strutz, posting a 9-5 record and earning a playoff berth, only to suffer a lopsided first-round loss to Los Angeles. Strutz’s tenure ended after a disappointing 4-9 campaign in 2014.</p>

<p>Michael Arroyo took over in 2015, ushering in a new era that featured multiple playoff appearances but no titles. After a rough start, Arroyo guided the team to the postseason in 2016, highlighted by a dominant first-round victory over Boston before falling to Miami in the semifinals. The Titans’ peak came in 2018, when they moved to the West Division during a 10-team season, went 10-4, captured the division crown, and advanced to the Lakefront Bowl Lakefront Bowl, where they fell in a high-scoring battle with Vegas.</p>

<p>Following the 2018 run, the Titans slid into mediocrity. They posted a 5-8 record in 2019, followed by a canceled 2020 season due to COVID-19. Subsequent campaigns under Arroyo were marked by inconsistency, including a playoff berth in 2022 and early exits in other years. By 2024, original GM Mitch Smith returned, but the team bottomed out with a league-worst 2-12 record.</p>

<p>With one division title and a single championship appearance in 13 active seasons, Cedar Rapids remains a franchise searching for stability and its first league crown.</p>



<h3>List of Cedar Rapids Seasons</h3>

<p>Embark on a celestial journey through the seasons of the Cedar Rapids Titans, a luminous entity in the vast universe of fantasy football. This comprehensive list meticulously chronicles the season-by-season records of the Titans franchise, spanning from their inception in 2012 to the present day. Dive into the cosmic tapestry of playoff battles, the glow of league awards, and the varying constellations of leadership under different General Managers. Explore the history of a team that has added its unique radiance to the ever-evolving narrative of the GLFL.</p>

<table class="standard-table">
<tbody>
<tr>
<td bgcolor="#FFCBA4">Lakefront Bowl Champions</td>
<td bgcolor="#A2E4B8">Conference Champions</td>
<td bgcolor="#9BD3DD">Division Champions</td>
</tr>
</tbody>
</table>

<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>Year</th>
<th>Div</th>
<th>W</th>
<th>L</th>
<th>Postseason</th>
<th>Awards</th>
<th>GM</th>
</tr>

<tr>
<td>2012</td>
<td>Central</td>
<td>4</td>
<td>10</td>
<td> </td>
<td> </td>
<td>Smith</td>
</tr>

<tr>
<td>2013</td>
<td>Central</td>
<td>9</td>
<td>5</td>
<td>Wild Card vs Los Angeles 70-158 L</td>
<td> </td>
<td rowspan="2">Strutz</td>
</tr>

<tr>
<td>2014</td>
<td>Central</td>
<td>4</td>
<td>9</td>
<td> </td>
<td> </td>
</tr>

<tr>
<td>2015</td>
<td>Central</td>
<td>5</td>
<td>8</td>
<td> </td>
<td> </td>
<td rowspan="5">Arroyo</td>
</tr>

<tr>
<td>2016</td>
<td>Central</td>
<td>7</td>
<td>6</td>
<td>Wild Card vs Boston 127-84 W<br><br>
Divisonal Playoffs vs Miami 98-179 L</td>
<td> </td>
</tr>

<tr>
<td>2017</td>
<td>Central</td>
<td>4</td>
<td>9</td>
<td> </td>
<td> </td>
</tr>

<tr>
<td>2018</td>
<td bgcolor="#9BD3DD">West</td>
<td>10</td>
<td>4</td>
<td bgcolor="#A2E4B8">Divisonal Playoffs vs Milwaukee 128-117 W<br><br>
Lakefront Bowl vs Vegas 156-213 L</td>
<td>GMoY</td>
</tr>


<tr>
<td>2019</td>
<td>Central</td>
<td>5</td>
<td>8</td>
<td> </td>
<td> </td>
</tr>

<tr>
<td colspan="7">
Season Canceled
</td>
</tr>

<tr>
<td>2021</td>
<td>Central</td>
<td>5</td>
<td>9</td>
<td> </td>
<td> </td>
<td rowspan="3">Arroyo</td>
</tr>



<tr>
<td>2022</td>
<td>Central</td>
<td>7</td>
<td>7</td>
<td>Wild Card vs Cleveland 103-143 L</td>
<td> </td>
</tr>



<tr>
<td>2023</td>
<td>Central</td>
<td>5</td>
<td>9</td>
<td> </td>
<td> </td>
</tr>


<tr>
<td>2024</td>
<td>Central</td>
<td>2</td>
<td>12</td>
<td> </td>
<td> </td>
<td rowspan="2">Smith</td>
</tr>
	

<tr>
<td>2025</td>
<td>Central</td>
<td>8</td>
<td>6</td>
<td>Wild Card vs Los Angeles 199.75-242.5 L</td>
<td> </td>
</tr>




<tr>
<td colspan="2">Season Record</td>
<td>75</td>
<td>102</td>
</tr>

<tr>
<td colspan="2">Playoff Record</td>
<td>2</td>
<td>5</td>
</tr>

<tr>
<td colspan="2">Total Record</td>
<td>77</td>
<td>107</td>
</tr>

</tbody>
</table>
</div>





<h3>Head to Head Records</h3>
<div class="standard-table">

<div class="controls">
<!-- Hardcoded Team 1 label -->
<label>Team 1:</label>
<span>Cedar Rapids Titans</span>

<!-- Team 2 dropdown -->
<label for="team2">Team 2:</label>
<select id="team2">
<option value="ALL_TEAMS">— All Teams —</option>
</select>

<!-- Year dropdown -->
<label for="yearSelect">Year:</label>
<select id="yearSelect">
<option value="ALL_YEARS">— All Years —</option>
</select>

<!-- Game type dropdown -->
<label for="gameTypeFilter">Game Type:</label>
<select id="gameTypeFilter">
<option value="ALL_TYPES">— All Types —</option>
</select>
</div>



<div class="loading" id="loadingMsg">Loading match data...</div>

<div id="matchTableWrap" style="display:none;">
<div class="table-wrap"> <!-- <-- add this wrapper -->
<table class="standard-table" id="matchTable">
<thead>
<tr>
<th style="width:120px">Week</th>
<th>Team 1</th>
<th>Team 2</th>
<th style="width:120px">Score</th>
<th>Game Type</th> <!-- ✅ new column -->
</tr>
</thead>
<tbody></tbody>
</table>
<div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
</div> <!-- /.table-wrap -->
</div>
</div>




<h3>Players/General Managers of Note</h3>
<!--<h3>Current Roster</h3>


<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Quarterbacks</th>
</tr>
<tr>
<td>#4</td><td>Derek Carr</td>
</tr>
<tr>
<td>#7</td><td>Geno Smith</td>
</tr>
<tr>
<td>#10</td><td>Jordan Love</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Running Backs</th>
</tr>
<tr>
<td>#4</td><td>Gus Edwards</td>
</tr>
<tr>
<td>#26</td><td>Devin Singletary</td>
</tr>
<tr>
<td>#28</td><td>Joe Mixon</td>
</tr>
<tr>
<td>#29</td><td>Kareem Hunt</td>
</tr>
<tr>
<td>#30</td><td>Austin Ekeler</td>
</tr>
<tr>
<td>#41</td><td>Alvin Kamara</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Wide Receivers</th>
</tr>
<tr>
<td>#0</td><td>Gabe Davis</td>
</tr>
<tr>
<td>#1</td><td>Stefon Diggs</td>
</tr>
<tr>
<td>#5</td><td>Garrett Wilson</td>
</tr>
<tr>
<td>#11</td><td>Jayden Reed</td>
</tr>
<tr>
<td>#15</td><td>Ladd McConkey</td>
</tr>
<tr>
<td>#17</td><td>Puka Nacua</td>
</tr>
<tr>
<td>#17</td><td>Xavier Legette</td>
</tr>
</table>
</div>


<br>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Tight Ends</th>
</tr>
<tr>
<td>#85</td><td>George Kittle</td>
</tr>
<tr>
<td>#85</td><td>Tucker Kraft</td>
</tr>
<tr>
<td>#86</td><td>Dalton Shultz</td>
</tr>
</table>
</div>


<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Defense</th>
</tr>
<tr>
<td>#3</td><td>Budda Baker (S)</td>
</tr>
<tr>
<td>#7</td><td>Kyzir White (LB)</td>
</tr>
<tr>
<td>#7</td><td>Quay Walker (LB)</td>
</tr>
<tr>
<td>#23</td><td>Foyesade Oluokun (LB)</td>
</tr>
<tr>
<td>#32</td><td>Reed Blankenship (32)</td>
</tr>
<tr>
<td>#43</td><td>Terrel Bernard (LB)</td>
</tr>
<tr>
<td>#55</td><td>Cody Barton (LB)</td>
</tr>
</table>
</div>


<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Kickers</th>
</tr>
<tr>
<td>#8</td><td>Cairo Santos</td>
</tr>
</table>
</div>
!-->

<h3>List of General Managers</h3>

<p>Throughout the storied history of the Cedar Rapids Titans, several notable individuals have graced the position of General Manager, each leaving an indelible mark on the celestial journey of the team. Mitch Smith, the team’s inaugural GM, set the course, laying the foundation for what was to come. Amanda Strutz followed, steering the Titans into the postseason during her tenure. Michael Arroyo, who led the team through multiple playoff appearances and a memorable quest for the Lakefront Bowl in 2018, continued to build on that legacy. Now, in a full-circle moment, Mitch Smith has returned after 12 years, once again taking the helm with hopes of reigniting the Titans’ championship aspirations. Together, these GMs have woven the narrative of the Titans, contributing to the luminosity that defines the team’s legacy in the GLFL universe.</p>


<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>General Manager</th>
<th>Year</th>
<th>W</th>
<th>L</th>
<th>W%</th>
<th>GMoY</th>
<th>Lakefront Bowl Champs</th>
<th>Conf. Champs</th>
<th>Div. Champs</th>
<th>Playoffs</th>
<th>Winning Seasons</th>
</tr>


<tr>
<td>Mitch Smith</td>
<td>2012, 2024-Present</td>
<td>14</td>
<td>29</td>
<td>0.326</td>
<td>0</td>		
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>



<tr>
<td>Michael Arroyo</td>
<td>2015-2023</td>
<td>48</td>
<td>60</td>
<td>0.444</td>
<td>1</td>		
<td>0</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>

	
<tr>
<td>Amanda Strutz</td>
<td>2013-2014</td>
<td>13</td>
<td>15</td>
<td>0.464</td>
<td>0</td>		
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>


</tbody>
</table>
	</div>
	
<p>		

<img src="../../images/scl/fi/17pq5n8h26yifi0k5c0s4/Cedar-Rapids-Jersey-MS-2012.png?rlkey=3e0abhbsbvf5d1snqc086fzvv&st=lywhe1pu&raw=1" width="154" height="150" alt=""/>

<img src="../../images/scl/fi/qdsjwr4nxz270b1fukui3/Cedar-Rapids-Jersey-AS.png?rlkey=y92rns5to97yxj4jyojidnnga&st=ks6h5f3i&raw=1" width="154" height="150" alt=""/>

<img src="../../images/scl/fi/wn3zxnd7zn5djddqn0bi2/Cedar-Rapids-Jersey-MA.png?rlkey=376pevf6jbpc2bqwob1bf0usb&st=6f0387wb&raw=1" width="154" height="150" alt=""/>

<img src="../../images/scl/fi/15mwznzjnr15fsuv0pap0/Cedar-Rapids-Jersey-MS.png?rlkey=ih09mvgupti7t2pmj8dk5lg0d&st=on9xfkg5&raw=1" width="154" height="150" alt=""/></p>


<h3>Awards & Honors</h3>




<h3>GLFL MVPs</h3>
<table class="standard-table">
<tbody>
<tr>
<th>Year</th>
<th>Player</th>
<th>Position</th>
<th>Points Scored</th>
</tr>

<tr>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>

</tbody>
</table>




<h3>GM of the Year Award Winners</h3>
<table class="standard-table">
<tbody>
<tr>
<th>Year</th>
<th>General Manager</th>
<th>Record</th>
</tr>

<tr>
<td>2018</td>
<td>Michael Arroyo</td>
<td>10-4</td>
</tr>


</tbody>
</table>



</div>







<script>
document.addEventListener("DOMContentLoaded", async function() {

// ===================== MOBILE NAV =====================
const hamburger = document.querySelector(".hamburger");
const navLinks = document.querySelector(".nav-links");
const dropdownLinks = document.querySelectorAll(".nav-links .dropdown > a");

hamburger.addEventListener("click", e => {
e.stopPropagation();
navLinks.classList.toggle("nav-active");
});

dropdownLinks.forEach(link => {
link.addEventListener("click", e => {
if (window.innerWidth <= 768) {
e.preventDefault();
const submenu = link.nextElementSibling;
submenu.classList.toggle("dropdown-active");
}
});
});

document.addEventListener("click", e => {
if (window.innerWidth <= 768) {
const isClickInsideNav = navLinks.contains(e.target) || hamburger.contains(e.target);
if (!isClickInsideNav) {
navLinks.classList.remove("nav-active");
document.querySelectorAll(".dropdown-content").forEach(sub => sub.classList.remove("dropdown-active"));
}
}
});

// ===================== CONFIG =====================
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
const fixedTeam = "Cedar Rapids Titans"; // ============================================================================================================================== Hardcoded team for this page

// Elements
const yearSelect = document.getElementById("yearSelect");
const team2Select = document.getElementById("team2");
const gameTypeSelect = document.getElementById("gameTypeFilter");
const matchTableWrap = document.getElementById("matchTableWrap");
const matchTableBody = document.querySelector("#matchTable tbody");
const loadingMsg = document.getElementById("loadingMsg");
const noMatchesMsg = document.getElementById("noMatches");

let allMatches = [];
let availableYears = [];

// ===================== UTILITIES =====================
function parseCsvToObjects(csvText) {
const lines = csvText.trim().split(/\r?\n/);
const headers = lines.shift().split(",").map(h => h.trim());
return lines.map(line => {
const cols = line.split(",").map(c => c.trim());
const obj = {};
headers.forEach((h,i) => obj[h] = cols[i] || "");
return obj;
});
}

function parseDate_mmddyy(s) {
if (!s) return null;
const [m,d,y] = s.split("/").map(n => parseInt(n,10));
if (!m || !d || !y) return null;
return new Date(y<100 ? y+2000 : y, m-1, d);
}

function esc(s) { return String(s || ""); }

// ===================== DROPDOWNS =====================
function populateYearDropdown() {
yearSelect.innerHTML = `<option value="ALL_YEARS">All Years</option>`;
Array.from(new Set(availableYears)).sort((a,b) => b-a).forEach(year => {
yearSelect.appendChild(new Option(year, year));
});
// Default to 2025 if available
yearSelect.value = availableYears.includes(2025) ? "2025" : availableYears[0];
yearSelect.addEventListener("change", updateDisplay);
}

function populateTeam2Dropdown() {
const opponents = new Set();
allMatches.forEach(m => {
if (m.team1 === fixedTeam) opponents.add(m.team2);
else if (m.team2 === fixedTeam) opponents.add(m.team1);
});

team2Select.innerHTML = "";
team2Select.appendChild(new Option("— All Teams —", "ALL_TEAMS"));
Array.from(opponents).sort().forEach(team => {
team2Select.appendChild(new Option(team, team));
});
team2Select.value = "ALL_TEAMS";
team2Select.addEventListener("change", updateDisplay);
}

function populateGameTypeDropdown() {
const typeSet = new Set(allMatches.map(m => m.gameType).filter(Boolean));
gameTypeSelect.innerHTML = `<option value="ALL_TYPES">— All Types —</option>`;
Array.from(typeSet).sort().forEach(type => {
gameTypeSelect.appendChild(new Option(type, type));
});
gameTypeSelect.value = "ALL_TYPES";
gameTypeSelect.addEventListener("change", updateDisplay);
}

// ===================== LOAD CSV =====================
async function loadCsvAndInit() {
try {
const res = await fetch(csvUrl);
const text = await res.text();
const rows = parseCsvToObjects(text);

allMatches = rows.map(r => {
const date = parseDate_mmddyy(r["Date"]);
return {
date,
week: (r["Week"] || "").trim(),
team1: (r["Team 1"] || "").trim(),
team2: (r["Team 2"] || "").trim(),
score1: Number(r["Team 1 Score"] || 0),
score2: Number(r["Team 2 Score"] || 0),
gameType: (r["Game Type"] || "").trim()
};
}).filter(m => m.date && m.team1 && m.team2 && (m.team1 === fixedTeam || m.team2 === fixedTeam));

// Available years for dropdown
availableYears = allMatches.map(m => m.date.getFullYear());

populateYearDropdown();
populateTeam2Dropdown();
populateGameTypeDropdown();

loadingMsg.style.display = "none";
updateDisplay();
} catch (err) {
console.error(err);
loadingMsg.textContent = "Error loading match data.";
}
}

// ===================== FILTER + RENDER =====================
function updateDisplay() {
const selectedYear = yearSelect.value;
const selectedTeam2 = team2Select.value;
const selectedType = gameTypeSelect.value;

let filtered = allMatches.filter(m => {
const yearOk = selectedYear === "ALL_YEARS" || m.date.getFullYear().toString() === selectedYear;
const team2Ok = selectedTeam2 === "ALL_TEAMS" || m.team1 === selectedTeam2 || m.team2 === selectedTeam2;
const typeOk = selectedType === "ALL_TYPES" || m.gameType === selectedType;
return team2Ok && typeOk && (m.team1 === fixedTeam || m.team2 === fixedTeam) && yearOk;
});

filtered.sort((a,b) => a.date - b.date);

matchTableBody.innerHTML = "";
let toggle = false;
let lastWeek = null;

filtered.forEach(m => {
if (m.week !== lastWeek) {
toggle = !toggle;
lastWeek = m.week;
}
const tr = document.createElement("tr");
tr.style.backgroundColor = toggle ? "#f3f3f3" : "#ffffff";
tr.innerHTML = `
<td>${esc(m.week)}</td>
<td class="${m.score1 > m.score2 ? "winner" : ""}">${esc(m.team1)}</td>
<td class="${m.score2 > m.score1 ? "winner" : ""}">${esc(m.team2)}</td>
<td>${m.score1} - ${m.score2}</td>
<td>${esc(m.gameType)}</td>
`;
matchTableBody.appendChild(tr);
});

matchTableWrap.style.display = "block";
noMatchesMsg.style.display = filtered.length ? "none" : "block";
}

// ===================== START =====================
loadCsvAndInit();

});
</script>





</body>
</html>
