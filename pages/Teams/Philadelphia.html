<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boston Brawlers</title>
<!-- ========================================================================================== LINKED STYLESHEETS ================== -->
<link rel="stylesheet" href="../../css/global.css">
<link rel="stylesheet" href="../../css/tables.css">

<style>
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#004C54; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#004C54; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #004C54; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #004C54; /* PRIMARY */
  color: #ffffff;
}

/*tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #ffffff; }*/

tr:hover td, tr:hover th {
  background-color: #A5ACAF; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #004C54; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #A5ACAF; } /* SECONDARY */
.content a:hover { color: #A5ACAF; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#004C54; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.first {
  background: #004C54;
}

.second {
  background: #A5ACAF;
}
	
.third {
  background: #000000;
}


	
</style>

<meta charset="UTF-8">
<title>Philadelphia Soul</title>
</head>

<body>

<p>The Philadelphia Soul stands as a formidable presence in the world of professional fantasy football, competing in the GLFL as proud members of the East division. Headquartered in Milwaukee, Wisconsin, the Soul has been an integral part of the GLFL since its formation in 2012. The team's pursuit of fantasy excellence reached its zenith in 2017 when they secured a coveted spot in the Lakefront Bowl, albeit facing defeat against the Miami Inferno. Led by General Manager Brian Simmons, the Philadelphia Soul continues to navigate the intricate terrain of the fantasy gridiron, striving for triumph in the competitive realm of fantasy football.</p>
	
<table class="standard-table">
  <tbody>
	  <tr>
      <td colspan="2"><strong>Philadelphia Soul</strong><br><img src="../../images/scl/fi/mlz8vma22rf5hx09uni8q/Philadelphia.png?rlkey=qd0pelmrbl2nsew8rxa8ysqzm&st=48nk3wdo&raw=1" width="196" height="200" alt=""/></td>
    </tr>
    <tr>
      <td><strong>Established</strong></td>
      <td>2012</td>
    </tr>
    <tr>
      <td><strong>Headquarters</strong></td>
      <td>Milwaukee, WI</td>
    </tr>
	  	  	<tr>
		<td><strong>Team Colors</strong></td>
		<td><div class="box first"></div>
		<div class="box second"></div>
			<div class="box third"></div>
		</td></tr>

    <tr>
      <th colspan="2"><strong>Conference Affiliations</strong></th>
    </tr>
    <tr>
      <td><strong>East</strong></td>
      <td>2012-Present</td>
    </tr>
	  <tr>
      <th colspan="2"><strong>Personnel</strong></th>
    </tr>  
    <tr>
      <td><strong>General Manager</strong></td>
      <td>Brian Simmons</td>
    </tr>
	  <tr>
      <th colspan="2"><strong>Team History</strong></th>
    </tr> 
    	  <tr>
      <td colspan="2">Philadelphia Soul (2012-Present)</td>
    </tr> 
  	  <tr>
      <th colspan="2"><strong>Championships</strong></th>
    </tr> 
    <tr>
      <td><strong>Lakefront Bowl (0)</strong></td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>Conference (1)</strong></td>
      <td>2017</td>
    </tr>
	    <tr>
      <td><strong>Division (2)</strong></td>
      <td>2017, 2023</td>
    </tr>
		    <tr>
      <td><strong>Playoffs (5)</strong></td>
      <td>2012, 2014, 2017, 2021,<br> 2023</td>
    </tr>
		    <tr>
      <td><strong>Winning Seasons (4)</strong></td>
      <td>2014, 2017, 2021, 2023</td>
    </tr>
	  	  <tr>
      <td colspan="2"><img src="../../images/scl/fi/9p8a7ndcmkbtvizsd07s6/Philadelphia-Helmet.png?rlkey=hxdz5y7ynkrqiw0cb8wu9ucbs&st=7honsmeg&raw=1" width="187" height="150" alt=""/></td>
    </tr>
  </tbody>
</table>


<p> </p>

	
	
	<h3>Franchise History</h3>
	<br>
	
	
<p>The Philadelphia Soul are an East Division franchise established in 2012, led throughout their entire history by general manager Brian Simmons. Over the years, the team became known for its resilience and occasional deep playoff runs despite enduring multiple rebuilding phases.</p>
	
<p>The Soul’s inaugural season in 2012 ended with a 6-8 record and a first-round playoff loss to Milwaukee. Early seasons were marked by inconsistency, as Philadelphia missed the playoffs in 2013 and 2015, managing only modest improvements in between. In 2014, they returned to the postseason at 7-6, but suffered a heavy defeat at the hands of Los Angeles in the first round.</p>

<p>The franchise’s breakout came in 2017, when the Soul posted a 9-4 record, winning their first East Division title. Their playoff run included victories over Boston and Cleveland before falling to Miami in the Lakefront Bowl Lakefront Bowl, 95-149. However, the success proved temporary. The Soul regressed to losing records in both 2018 and 2019 before the COVID-19 pandemic canceled the 2020 season.</p>
	
	<p>Philadelphia returned strong in 2021, finishing 9-5 and pulling off a dominant first-round playoff win over Tucson. Their bid for a second Lakefront Bowl appearance was cut short in a dramatic semifinal loss to Los Angeles by just two points. That season saw Cooper Kupp capture MVP honors, a rare highlight for the team.</p>
	
	<p>The following year was catastrophic, as the Soul stumbled to a 1-13 record in 2022, marking the worst season in franchise history. However, Simmons orchestrated a turnaround in 2023, reclaiming the East Division crown with an 8-6 record and advancing to the semifinals after defeating Brooklyn. Their playoff run ended in a shootout loss to Northern Arizona. In 2024, the team finished 6-8 and missed the playoffs once again, leaving questions about the future direction under Simmons’ leadership.</p>

	</div>

	
	

		<h3>List of Philadelphia Seasons</h3>
	
<p>Embark on a journey through the Philadelphia Soul's history in the realm of fantasy football. This comprehensive list details the season-by-season records of the Soul franchise, spanning from the inaugural year in 2012 to the present day. Explore the highs and lows, postseason exploits, league awards, and the leadership of General Manager Brian Simmons, providing a vivid tapestry of the Soul's quest for glory on the fantasy gridiron.</p>

	<table class="standard-table">
	<tbody>
		<tr>
		<td bgcolor="#FFCBA4">Lakefront Bowl Champions</td>
		<td bgcolor="#A2E4B8">Conference Champions</td>
		<td bgcolor="#9BD3DD">Division Champions</td>
		</tr>
		</tbody>
	</table>
	<br>

	
	<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>Year</th>
<th>Div</th>
<th>W</th>
<th>L</th>
<th>Postseason</th>
<th>Awards</th>
<th>GM</th>
</tr>

	  <tr>
    <td>2012</td>
    <td>East</td>
    <td>6</td>
    <td>8</td>
	<td>Wild Card vs Milwaukee 103-124 L </td>
    <td> </td>
    <td rowspan="8">Simmons</td>
  </tr>

	    <tr>
    <td>2013</td>
    <td>East</td>
    <td>4</td>
    <td>10</td>
	<td>  </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2014</td>
    <td>East</td>
    <td>7</td>
    <td>6</td>
	<td>Wild Card vs Los Angeles 78-142 L </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2015</td>
    <td>East</td>
    <td>6</td>
    <td>7</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2016</td>
    <td>East</td>
    <td>5</td>
    <td>8</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2017</td>
    <td bgcolor="#9BD3DD">East</td>
    <td>9</td>
    <td>4</td>
	<td bgcolor="A2E4B8">Wild Card vs Boston 139-124 W<br><br>
Divisonal Playoffs vs Cleveland 138-105 W<br><br>
Lakefront Bowl vs Miami 95-149 L</td>
    <td> </td>
    </tr>
	  
	    <tr>
    <td>2018</td>
    <td>East</td>
    <td>4</td>
    <td>10</td>
	<td> </td>
    <td> </td>
    </tr>
	  
	  
	    <tr>
    <td>2019</td>
    <td>East</td>
    <td>5</td>
    <td>8</td>
	<td> </td>
    <td> </td>
  </tr>
	  
	    <tr>
  <td colspan="7">
  Season Canceled
  </td>
  </tr>
	  
	  	    <tr>
    <td>2021</td>
    <td>East</td>
    <td>9</td>
    <td>5</td>
	<td>Wild Card vs Tucson 189-110 W<br><br>
Divisonal Playoffs vs Los Angeles 142-144 L</td>
    <td>MVP</td>
    <td rowspan="4">Simmons</td>
	  </tr>
	  
	  
	  	  	    <tr>
    <td>2022</td>
    <td>East</td>
    <td>1</td>
    <td>13</td>
	<td> </td>
    <td> </td>
	  </tr>
	  
	  
	  
	  	  	  	    <tr>
    <td>2023</td>
    <td bgcolor="#9BD3DD">East</td>
    <td>8</td>
    <td>6</td>
	<td>Wild Card vs Brooklyn 137-131 W<br><br>
Divisonal Playoffs vs Northern Arizona 183-222 L</td>
    <td> </td>
	  </tr>

	  
	  
	  	  	  	  	    <tr>
    <td>2024</td>
    <td>East</td>
    <td>6</td>
    <td>8</td>
	<td></td>
    <td> </td>
	  </tr>

	  
	  
	  
	  <tr>
	  <td colspan="2">Season Record</td>
	  <td>70</td>
	  <td>93</td>
	  </tr>
	  
	  	  <tr>
	  <td colspan="2">Playoff Record</td>
	  <td>4</td>
	  <td>5</td>
	  </tr>
	  
	  	  <tr>
	  <td colspan="2">Total Record</td>
	  <td>74</td>
	  <td>98</td>
	  </tr>
	  
  </tbody>
</table>
	
	<p> </p>
	</div>
	
	
	<h3>Head to Head Records</h3>
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	
	
		<h3>Players/General Managers of Note</h3>
<!--
	<h3>Current Roster</h3>
	

	

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Quarterbacks</th>
</tr>
<tr>
<td>#1</td><td>Jalen Hurts</td>
</tr>
<tr>
<td>#18</td><td>Caleb Williams</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Running Backs</th>
</tr>
<tr>
<td>#8</td><td>Brian Robinson Jr.</td>
</tr>
<tr>
<td>#26</td><td>Saquon Barkley</td>
</tr>
<tr>
<td>#33</td><td>Dare Ogunbowale</td>
</tr>
</table>
</div>

<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Wide Receivers</th>
</tr>
<tr>
<td>#0</td><td>Keon Coleman</td>
</tr>
<tr>
<td>#1</td><td>Quentin Johnston</td>
</tr>
<tr>
<td>#2</td><td>Amari Cooper</td>
</tr>
<tr>
<td>#5</td><td>Drake London</td>
</tr>
<tr>
<td>#7</td><td>Brian Thomas Jr.</td>
</tr>
<tr>
<td>#10</td><td>Cooper Kupp</td>
</tr>
<tr>
<td>#88</td><td>Jordan Whittington</td>
</tr>
</table>
</div>
	
	
	<br>
	
<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Tight Ends</th>
</tr>
<tr>
<td>#80</td><td>Isaiah Llikely</td>
</tr>
<tr>
<td>#81</td><td>Austin Hooper</td>
</tr>
<tr>
<td>#86</td><td>Dalton Kincaid</td>
</tr>
</table>
</div>

	
<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Defense</th>
</tr>
<tr>
<td>#0</td><td>Ivan Pace Jr. (LB)</td>
</tr>
<tr>
<td>#14</td><td>Kyle Hamilton (S)</td>
</tr>
<tr>
<td>#39</td><td>Henry To'oto'o (LB)</td>
</tr>
<tr>
<td>#57</td><td>C.J. Mosley (LB)</td>
</tr>
<tr>
<td>#56</td><td>Quincy WIlliams (LB)</td>
</tr>
<tr>
<td>#90</td><td>T.J. Watt (DE)</td>
</tr>
<tr>
<td>#95</td><td>Myles Garrett (DE)</td>
</tr>
<tr>
<td>#97</td><td>Cameron Heyward (DT)</td>
</tr>
<tr>
<td>#97</td><td>Nick Bosa (DE)</td>
</tr>
</table>
</div>

	
<div class="table-container">
<table class="standard-table">
<tr>
<th colspan="2">Kickers</th>
</tr>
<tr>
<td>#3</td><td>Will Lutz</td>
</tr>
<tr>
<td>#6</td><td>Younghoe Koo</td>
</tr>
</table>
</div>
	!-->
	<h3>List of General Managers</h3>
		
	<p>Within the Philadelphia Soul's fantasy legacy, General Manager Brian Simmons stands as the sole orchestrator, shaping the team's destiny since its inception in 2012. Simmons, one of the original four General Managers in the league, has steered the Soul through the complexities of professional fantasy football. His enduring commitment and strategic vision make him a noteworthy figure, weaving a tale of determination, persistence, and leadership in the captivating world of the Philadelphia Soul.</p>
	
	
	<div class="scrolling-table-scroll">
<table class="scrolling-table">
<tbody>
<tr>
<th>General Manager</th>
<th>Year</th>
<th>W</th>
<th>L</th>
<th>W%</th>
<th>GMoY</th>
<th>Lakefront Bowl Champs</th>
<th>Conf. Champs</th>
<th>Div. Champs</th>
<th>Playoffs</th>
<th>Winning Seasons</th>
</tr>
	  
	 <tr>
      <td>Brian Simmons</td>
      <td>2012-Present</td>
      <td>74</td>
      <td>98</td>
		       <td>0.430</td>
      <td>0</td>		
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>5</td>
		 <td>4</td>
    </tr>
	  
   </tbody>
</table>
	
			<br>
			<p>				
<img src="../../images/scl/fi/gn5br4xbzv8ilb0cnwr7z/Philadelphia-Jersey-BS.png?rlkey=fhprnn2rv6imax7n3zifv02f5&st=x3say2rd&raw=1" width="154" height="150" alt=""/>
	
	</p>

	
	</div>
	

		<h3>Awards & Honors</h3>
	
<h3>GLFL MVPs</h3>
		<table class="standard-table">
  <tbody>
    <tr>
    <th>Year</th>
	<th>Player</th>
	<th>Position</th>
	<th>Points Scored</th>
    </tr>

	  <tr>
      <td>2021</td>
      <td>Copper Kupp</td>
      <td>WR</td>
      <td>440</td>
    </tr>
	  
   </tbody>
</table>



		
			<h3>GM of the Year Award Winners</h3>
		<table>
  <tbody>
    <tr>
    <th>Year</th>
	<th>General Manager</th>
	<th>Record</th>
    </tr>

	  <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
	  
   </tbody>
</table>

		
		
		
<!--		<h3>Lakefront Bowls</h3>
	
<img src="../../images/scl/fi/ek4witvoplc3czym1ipt8/2016_Big12_Champ_Banner.png?rlkey=9nv39dnlvisbsu154g6hd4jn0&st=ejyvc3c0&raw=1" width="206" height="314" alt=""/>

<img src="../../images/scl/fi/seb7wzj9ixetq9vszss6b/2017_Big12_Champ_Banner.png?rlkey=dynlk2saqhcjodj1cob0bu4nd&st=zki0itjo&raw=1" width="206" height="314" alt=""/>
	
<img src="../../images/scl/fi/8m7n0q1nvan65u09y8b03/2019_Big12_Champ_Banner.png?rlkey=0dbge4bqmyp8ueena3g2jo1u7&st=c05gp4r4&raw=1" width="206" height="314" alt=""/>-->

	</div>	
	
	
	

	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    populateYearDropdown();
    populateGameTypeDropdown(); // ✅ populate Game Type
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.value="Philadelphia Soul"; // default
  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = document.getElementById("yearFilter").value;
  const gameTypeVal = document.getElementById("gameTypeFilter").value; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	</body>
</html>
