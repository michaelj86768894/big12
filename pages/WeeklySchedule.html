<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GLFL Schedule</title>
<!-- ========================================================================================== LINKED STYLESHEETS ================== -->
<link rel="stylesheet" href="../css/global.css">
<link rel="stylesheet" href="../css/tables.css">
	
<style>

/* ========================================================================================== Controls + Cards ====== */
.controls { 
text-align:center; 
margin:15px 0; 
display:flex; 
flex-wrap:wrap; 
justify-content:center; 
gap:10px; 
}

select, input[type="text"] { 
padding:8px 10px; 
font-size:14px; 
}

.summary { 
display:flex; 
justify-content: center; 
gap:20px; 
margin:15px 0; 
flex-wrap:wrap; 
}

/* stronger, general winner highlight (covers .h2h tables + your match table) */
.h2h td.winner,
.divisions-table td.winner,
#matchTable td.winner,
.table-wrap td.winner {
font-weight: 700 !important;
background: #F5E6C8 !important;
color: #002855 !important;
position: relative;
z-index: 2;
}

.no-data, .loading { 
text-align:center; 
margin-top:14px; 
color:#666; 
}

.table-wrap {
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}

.table-wrap table {
width: 100%;
min-width: 600px;
}

</style>
</head>

<body>

<!-- ========================================================================================== LOGO BAR ================== -->
<div class="team-logo-bar">
<div class="team-logo-container">
<a href="Teams/Boston.html"><img src="../images/Boston.png" alt="Boston" /></a>
<a href="Teams/Brooklyn.html"><img src="../images/Brooklyn.png" alt="Brooklyn" /></a>
<a href="Teams/CedarRapids.html"><img src="../images/CedarRapids.png" alt="Cedar Rapids" /></a>
<a href="Teams/Chicago.html"><img src="../images/Chicago.png" alt="Chicago" /></a>
<a href="Teams/Cleveland.html"><img src="../images/Cleveland.png" alt="Cleveland" /></a>
<a href="Teams/LosAngeles.html"><img src="../images/LosAngeles.png" alt="Los Angeles" /></a>
<a href="Teams/Miami.html"><img src="../images/Miami.png" alt="Miami" /></a>
<a href="Teams/Milwaukee.html"><img src="../images/Milwaukee.png" alt="Milwaukee" /></a>
<a href="Teams/NorthernArizona.html"><img src="../images/NorthernArizona.png" alt="Northern Arizona" /></a>
<a href="Teams/Philadelphia.html"><img src="../images/Philadelphia.png" alt="Philadelphia" /></a>
<a href="Teams/Tucson.html"><img src="../images/Tucson.png" alt="Tucson" /></a>
<a href="Teams/Vegas.html"><img src="../images/Vegas.png" alt="Vegas" /></a>
</div>
</div>

<!-- ========================================================================================== MAIN NAV ================== -->
<nav class="main-nav">
<div class="nav-container">

<a href="../index.html" class="logo">
<img src="../images/Logo.png" alt="League Logo" />
</a>

<input type="checkbox" id="menu-toggle" class="menu-toggle" aria-label="Toggle menu" />
<label for="menu-toggle" class="hamburger">&#9776;</label>

<!-- Nav Links -->
<ul class="nav-links">
<li class="dropdown">
<a href="#">About</a>
<ul class="dropdown-content">
<li><a href="About.html">Who We Are</a></li>
<li><a href="Bylaws.html">Bylaws</a></li>
</ul>
</li>

<li><a href="News.html">News</a></li>

<li class="dropdown">
<a href="#">History</a>
<ul class="dropdown-content">
<li><a href="History.html">History of the GLFL</a></li>
<li><a href="Seasons.html">GLFL Seasons</a></li>
<li><a href="Champions.html">Lakefront Bowl Champions</a></li>
<li><a href="Awards.html">Individual Award Winners</a></li>
<li><a href="RecordBook.html">Record Book</a></li>
</ul>
</li>

<li class="dropdown">
<a href="#">Schedule &amp; Standings</a>
<ul class="dropdown-content">
<li><a href="Standings.html">Standings</a></li>
<li><a href="WeeklySchedule.html">Weekly Schedule</a></li>
</ul>
</li>

<li><a href="Teams.html">Teams</a></li>
<li><a href="Draft.html">Draft</a></li>
</ul>
</div>
</nav>

<div class="text-container">

<p>The GLFL’s regular season schedule spans from early September through mid-December, encompassing 14 weeks of intense gridiron battles. Each team faces its division rivals twice during the season, with those matchups strategically scattered across the schedule. The remaining teams in the league are encountered once, creating a diverse slate of games that adds intrigue and unpredictability to the race for playoff spots.</p>

<p>As the regular season concludes, the spotlight shifts to the seven-team single-elimination playoffs. The victors of each division, along with the four teams boasting the best overall records, earn their place in the postseason spectacle. Teams are seeded based on their overall performance, with division champions holding higher ranks than the remaining playoff contenders.</p>

<p>The top-seeded team earns a coveted bye week, granting them a strategic advantage. The remaining six teams, seeded 2–7, engage in the Wild Card round of the playoffs. The intensity rises in the Divisional Playoffs.</p>

<p>The victorious teams from the Divisional Playoffs earn the right to compete in the grand finale—the Lakefront Bowl. Traditionally held during the last weekend in December, this climactic event crowns the season's ultimate champion, immortalizing their journey through a season of triumphs and challenges. The road to the championship is paved with dedication, strategy, and the relentless pursuit of fantasy glory.</p>

<h3>Divisions</h3>

<table class="standard-table">
<thead>
<tr>
<th>Lake Michigan</th>
<th>Lake Erie</th>
<th>Lake Superior</th>
</tr>
</thead>

<tbody>
<tr>
<td>Los Angeles Wildcats</td>
<td>Cedar Rapids Titans</td>
<td>Boston Brawlers</td>
</tr>
<tr>
<td>Northern Arizona Wranglers</td>
<td>Chicago Slaughter</td>
<td>Brooklyn Bolts</td>
</tr>
<tr>
<td>Tuscon Sugar Skulls</td>
<td>Cleveland Gladiators</td>
<td>Miami Inferno</td>
</tr>
<tr>
<td>Vegas Knight Hawks</td>
<td>Milwaukee Mustangs</td>
<td>Philadelphia Soul</td>
</tr>
</tbody>
</table>

	
<h3>2025 Schedule</h3>
	
	
<div class="standard-table">

<div class="controls">
<label for="team1">Team 1:</label>
<select id="team1">
<option value="">— Select team —</option>
</select>

<label for="team2">Team 2:</label>
<select id="team2">
<option value="">— Select team —</option>
</select>

<label for="gameTypeFilter">Game Type:</label>
<select id="gameTypeFilter">
<option value="ALL_TYPES">— All Types —</option>
</select>

</div>


	
<div class="loading" id="loadingMsg">Loading match data...</div>

<div id="matchTableWrap" style="display:none;">
<div class="table-wrap"> <!-- <-- add this wrapper -->
<table class="standard-table" id="matchTable">
<thead>
<tr>
<th style="width:120px">Week</th>
<th>Team 1</th>
<th>Team 2</th>
<th style="width:120px">Score</th>
<th>Game Type</th> <!-- ✅ new column -->
</tr>
</thead>
<tbody></tbody>
</table>
<div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
</div> <!-- /.table-wrap -->
<br>
</div>
</div>

</div>


<script>
document.addEventListener("DOMContentLoaded", async function() {

// ========================================================================================== MOBILE NAVIGATION ==========================
const hamburger = document.querySelector(".hamburger");
const navLinks = document.querySelector(".nav-links");
const dropdownLinks = document.querySelectorAll(".nav-links .dropdown > a");

hamburger.addEventListener("click", function(e) {
e.stopPropagation();
navLinks.classList.toggle("nav-active");
});

dropdownLinks.forEach(link => {
link.addEventListener("click", function(e) {
if (window.innerWidth <= 768) {
e.preventDefault();
const submenu = this.nextElementSibling;
submenu.classList.toggle("dropdown-active");
}
});
});

document.addEventListener("click", function(e) {
if (window.innerWidth <= 768) {
const isClickInsideNav = navLinks.contains(e.target) || hamburger.contains(e.target);
if (!isClickInsideNav) {
navLinks.classList.remove("nav-active");
document.querySelectorAll(".dropdown-content").forEach(sub => sub.classList.remove("dropdown-active"));
}
}
});

 // ========================================================================================== CONFIG
  const DEFAULT_SEASON_YEAR = 2025; // <--------------------------------------------------------------------------- CHANGE THIS PER SEASON PAGE

  const csvUrl =
    "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" +
    new Date().getTime();

  // ========================================================================================== ELEMENTS
  const team1Select = document.getElementById("team1");
  const team2Select = document.getElementById("team2");
  const gameTypeSelect = document.getElementById("gameTypeFilter");

  const matchTableWrap = document.getElementById("matchTableWrap");
  const matchTableBody = document.querySelector("#matchTable tbody");
  const loadingMsg = document.getElementById("loadingMsg");
  const noMatchesMsg = document.getElementById("noMatches");

  let allMatches = [];
  let teams = [];

  // ========================================================================================== UTILITIES
  function parseCsvToObjects(csvText) {
    const lines = csvText.trim().split(/\r?\n/);
    const headers = lines.shift().split(",").map(h => h.trim());

    return lines.map(line => {
      const cols = line.split(",").map(c => c.trim());
      const obj = {};
      headers.forEach((h, i) => (obj[h] = cols[i] || ""));
      return obj;
    });
  }

  function parseDate_mmddyy(s) {
    if (!s) return null;
    const [m, d, y] = s.split("/").map(n => parseInt(n, 10));
    if (!m || !d || !y) return null;
    return new Date(y < 100 ? y + 2000 : y, m - 1, d);
  }

  function esc(s) {
    return String(s || "");
  }

  // ========================================================================================== DROPDOWNS

  function populateTeamDropdowns() {
    [team1Select, team2Select].forEach(select => {
      select.innerHTML = "";
      const allOpt = new Option("All Teams", "ALL_TEAMS");
      select.appendChild(allOpt);

      teams.forEach(team => select.appendChild(new Option(team, team)));

      select.value = "ALL_TEAMS";
      select.addEventListener("change", updateDisplay);
    });
  }

  function populateGameTypeDropdown() {
    const typeSet = new Set(allMatches.map(m => m.gameType).filter(Boolean));
    gameTypeSelect.innerHTML = `<option value="ALL_TYPES">— All Types —</option>`;

    Array.from(typeSet)
      .sort()
      .forEach(type => gameTypeSelect.appendChild(new Option(type, type)));

    gameTypeSelect.value = "ALL_TYPES";
    gameTypeSelect.addEventListener("change", updateDisplay);
  }

  // ========================================================================================== LOAD CSV

  async function loadCsvAndInit() {
    try {
      const res = await fetch(csvUrl);
      const text = await res.text();
      const rows = parseCsvToObjects(text);

      allMatches = rows
        .map(r => {
          const date = parseDate_mmddyy(r["Date"]);
          return {
            date,
            week: (r["Week"] || "").trim(),
            team1: (r["Team 1"] || "").trim(),
            team2: (r["Team 2"] || "").trim(),
            score1: Number(r["Team 1 Score"] || 0),
            score2: Number(r["Team 2 Score"] || 0),
            gameType: (r["Game Type"] || "").trim()
          };
        })
        .filter(
          m =>
            m.date &&
            m.date.getFullYear() === DEFAULT_SEASON_YEAR &&
            m.team1 &&
            m.team2
        );

      const teamSet = new Set();
      allMatches.forEach(m => {
        teamSet.add(m.team1);
        teamSet.add(m.team2);
      });
      teams = Array.from(teamSet).sort();

      populateTeamDropdowns();
      populateGameTypeDropdown();

      loadingMsg.style.display = "none";
      updateDisplay();
    } catch (err) {
      console.error(err);
      loadingMsg.textContent = "Error loading match data.";
    }
  }

  // ========================================================================================== FILTER + RENDER (WITH WEEK STRIPING)

  function updateDisplay() {
    const teamA = team1Select.value;
    const teamB = team2Select.value;
    const gameTypeVal = gameTypeSelect.value;

    let filtered = allMatches.filter(m => {
      const aOk =
        teamA === "ALL_TEAMS" || m.team1 === teamA || m.team2 === teamA;
      const bOk =
        teamB === "ALL_TEAMS" || m.team1 === teamB || m.team2 === teamB;
      const typeOk =
        gameTypeVal === "ALL_TYPES" || m.gameType === gameTypeVal;
      return aOk && bOk && typeOk;
    });

    filtered.sort((a, b) => a.date - b.date);

    matchTableBody.innerHTML = "";

    let toggle = false;
    let lastWeek = null;

    filtered.forEach(m => {
      if (m.week !== lastWeek) {
        toggle = !toggle;
        lastWeek = m.week;
      }

      const tr = document.createElement("tr");
      tr.style.backgroundColor = toggle ? "#f3f3f3" : "#ffffff";

      tr.innerHTML = `
        <td>${esc(m.week)}</td>
        <td class="${m.score1 > m.score2 ? "winner" : ""}">${esc(m.team1)}</td>
        <td class="${m.score2 > m.score1 ? "winner" : ""}">${esc(m.team2)}</td>
        <td>${m.score1} - ${m.score2}</td>
        <td>${esc(m.gameType)}</td>
      `;

      matchTableBody.appendChild(tr);
    });

    matchTableWrap.style.display = "block";
    noMatchesMsg.style.display = filtered.length ? "none" : "block";
  }

  // ========================================================================================== START

  loadCsvAndInit();
	
	
	
});
</script>



</body>
</html>