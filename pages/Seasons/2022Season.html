<!doctype html>
<html>
<head>

<style>
	
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#001433; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#001433; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #001433; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #E8E8E8; }

tr:hover td, tr:hover th {
  background-color: #F0AE00; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #F0AE00; } /* SECONDARY */
.content a:hover { color: #F0AE00; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#001433; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
	.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.team_fourth {
background: #ffffff;
}

.team_second {
background: #F0AE00;
}

.team_third {
background: #007FC8;
}
	
.team_first {
background: #001433;
}
	
</style>

<meta charset="UTF-8">
<title>2022 Big 12 Season</title>
</head>

<body>
	
	

<p>Marking a significant milestone, the 2022 season stands as the 10th anniversary of the Big 12. The kickoff on Thursday, September 8th, 2022, saw the defending champions, the Brooklyn Bolts, engaging in a thrilling encounter the Green Bay Blizzard. The closely contested matchup added a layer of suspense, culminating in a Monday Night Football showdown where QB Russell Wilson aimed to secure the Bolts' victory by accumulating a mere 25 points. In an exhilarating turn of events, Wilson fell short by just 2 points, leading to a narrow 136-134 triumph for the resilient Green Bay Blizzard.</p>
	
	<p>The season's crescendo unfolded on Monday, January 2nd, with the Big 12 Championship showdown featuring the Green Bay Blizzard and the Northern Arizona Wranglers. In a resounding display of skill and determination, the Blizzard emerged triumphant with a convincing 185-122 victory, etching their name in history with their first-ever championship in team history.</p>
	
<table>
  <tbody>
    <tr>
      <td colspan="2"><center><img src="https://www.dropbox.com/scl/fi/lnq1lhu4dlfd01vksxni4/1-Big-12-Logo.png?rlkey=2jlol6c7y0qx3hxc26ojqgom2&st=16hq5j7p&raw=1" width="253" height="150" alt=""/></center></td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Regular Season</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Duration</strong></td>
      <td>Sept. 8 2022<br>Dec. 12 2022</td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Playoffs</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Start Date</strong></td>
      <td>Dec. 15 2022</td>
    </tr>
	  <tr>
      <td><strong>Conf. Champions</strong></td>
      <td>Northern Arizona (1)<br>Green Bay (2)</td>
    </tr>
	   <tr>
      <td colspan="2"><strong><center>Big 12 Championship X</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Date</strong></td>
      <td>Jan. 2 2023</td>
    </tr>
     <tr>
      <td><strong>Champions</strong></td>
      <td>Green Bay Blizzard (1)</td>
    </tr>
  </tbody>
</table>
	<p> </p>
	
	

	
	<button class="collapsible"> Personnel Movement<hr></button>
<div class="content">
	

<p>In the lone personnel change of the 2022 season, the Miami Inferno underwent a transition in leadership. Following a one-season stint with Cody Coppersmith in 2021, negotiations for a long-term deal faltered, prompting the Inferno to bring in Adam Levetzow as the new General Manager to guide the team forward.</p>
	
	<p> </p>
	</div>
	
	
	
	<button class="collapsible"> Draft<hr></button>
<div class="content">
	

<p>The 2022 draft marked the league's 10th annual gathering of Big 12 General Managers to strategically select eligible football players. This significant event took place in the digital realm on Sunday, August 28, 2022, at 7:00 pm CST. The Boston Brawlers, possessing the coveted first overall pick, made a decisive choice by selecting Jonathan Taylor from the Indianapolis Colts as their first-round selection.</p>
	
	
	<h3>Complete First Round Selections</h3>
	
	<table>
  <tbody>
    <tr>
      <th>Pick</th>
      <th>Big 12 Team</th>
      <th>Player</th>
      <th>POS</th>
      <th>NFL Team</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Boston</td>
      <td>Jonathan Taylor</td>
      <td>RB</td>
      <td>IND</td>		
    </tr>
    <tr>
      <td>2</td>
      <td>Cedar Rapids</td>
      <td>Cooper Kupp</td>
      <td>WR</td>
      <td>LAR</td>		
    </tr>
    <tr>
      <td>3</td>
      <td>Brooklyn</td>
      <td>Christian McCaffrey</td>
      <td>RB</td>
      <td>CAR</td>		
    </tr>
     <tr>
      <td>4</td>
      <td>Green Bay</td>
      <td>Justin Jefferson</td>
      <td>WR</td>
      <td>MIN</td>		
    </tr>
    <tr>
      <td>5</td>
      <td>Miami</td>
      <td>Derrick Henry</td>
      <td>RB</td>
      <td>TEN</td>		
    </tr>
     <tr>
      <td>6</td>
      <td>Northern Arizona</td>
      <td>Austin Ekeler*</td>
      <td>RB</td>
      <td>LAC</td>		
    </tr>
      <tr>
      <td>7</td>
      <td>Vegas</td>
      <td>Ja'Marr Chase</td>
      <td>WR</td>
      <td>CIN</td>
    </tr>
      <tr>
      <td>8</td>
      <td>Los Angeles</td>
      <td>Davante Adams</td>
      <td>WR</td>
      <td>LV</td>		
    </tr>
       <tr>
      <td>9</td>
      <td>Philadelphia</td>
      <td>Najee Harris</td>
      <td>RB</td>
      <td>PIT</td>		
    </tr>
      <tr>
      <td>10</td>
      <td>Cleveland</td>
      <td>Dalvin Cook</td>
      <td>RB</td>
      <td>MIN</td>		
	  </tr>
	 <tr>
      <td>11</td>
      <td>Milwaukee</td>
      <td>Alvin Kamara</td>
      <td>WR</td>
      <td>NO</td>		
	  </tr>
	        <tr>
      <td>12</td>
      <td>Chicago</td>
      <td>CeeDee Lamb</td>
      <td>WR</td>
      <td>DAL</td>		
	  </tr>
	</tbody>
</table>
	
	<p>*MVP</p>
	</div>

	
	

		<button class="collapsible"> Regular Season<hr></button>
<div class="content">
<p>In the 2022 season, consistency prevailed with no alterations to the schedule format, maintaining a 14-week season encompassing a total of 168 games. Kicking off on the Thursday night following Labor Day, each team engaged in two matchups against division rivals and faced off once against all other teams, unless flexed in the final week.</p>
	
<p>A notable change from the previous season was the elimination of home field advantage during the regular season after its trial in 2021. Commissioner Bautch clarified that while it did not persist from the prior year, the possibility of its return in future seasons remained open.</p>
	
<p>Introducing a fresh dimension to team rosters, the league incorporated the individual defensive position (IDP) for the first time in the 2022 season. This decision, subject to lengthy negotiations, materialized as an experimental addition.</p>
	
<p>Furthermore, the league continued the popular feature of flex scheduling during the concluding week of the regular season. This strategic tool empowered the league to make game changes in the final week, irrespective of division status, influencing the outcomes of divisional championships and playoff seeding.</p>
		
		<h3>Standings</h3>
	
	<div class="table-container">
<table>
    <tr>
      <th>East</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(5) Miami</td>
      <td>8</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>Boston</td>
      <td>6</td>
      <td>8</td>		
    </tr>
    <tr>
      <td>Brooklyn</td>
      <td>5</td>
      <td>9</td>		
    </tr>
	  <tr>
      <td>Philadelphia</td>
      <td>1</td>
      <td>13</td>		
    </tr>
</table>
	</div>
	
	
	<div class="table-container">
<table>
    <tr>
      <th>Central</th>
      <th>W</th>
      <th>L</th>
    </tr>
	<tr>
      <td>(3) Cleveland</td>
      <td>8</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>(6) Cedar Rapids</td>
      <td>7</td>
      <td>7</td>		
    </tr>
    <tr>
      <td>Milwaukee</td>
      <td>6</td>
      <td>8</td>		
    </tr>
	      <tr>
      <td>Chicago</td>
      <td>6</td>
      <td>8</td>		
    </tr>
</table>
	</div>
	
	
		<div class="table-container">
<table>
    <tr>
      <th>West</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(1) Los Angeles</td>
      <td>12</td>
      <td>2</td>		
    </tr>
    <tr>
      <td>(2) Vegas</td>
      <td>11</td>
      <td>3</td>		
    </tr>
	  <tr>
      <td>(4) Green Bay</td>
      <td>8</td>
      <td>6</td>		
    </tr>
	    <tr>
      <td>(7) Northern Arizona</td>
      <td>6</td>
      <td>8</td>		
    </tr>

</table>
	</div>	
	
	
	<p> </p>
	</div>
	
	
	
	
	
	<button class="collapsible"> Game Schedule<hr></button>
<div class="content">
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	
	<button class="collapsible"> Postseason<hr></button>
<div class="content">
	
	<br>
	
	
<p>TThe playoffs for the highly anticipated 2022 season kicked off on December 15, 2022, culminating in the grand finale with the Big 12 Championship held on January 2nd. A total of seven teams secured coveted playoff spots, with the three division winners claiming playoff positions and the remaining four spots allocated to the four best non-division-winning teams. The playoff structure included a first-round bye exclusively for the #1 seed, intensifying the competition for the remaining teams.</p>
	
	<p>While the regular season saw the elimination of home field advantage, an intriguing twist awaited teams in the postseason. The league opted to double down on home field advantage during the playoffs, granting home teams a significant boost with 10 bonus points to kick off the week, creating an added layer of excitement and strategy in the playoff matchups.</p>
	

	<h3>Round 1</h3>
	
<p>The opening round of the 2022 Big 12 playoffs, set in motion on December 15, 2022, delivered thrilling matchups and unexpected outcomes, adding a layer of suspense to the postseason drama. The top-seeded Los Angeles Wildcats enjoyed a bye week, eagerly awaiting their opponents for the next round.</p>
	
	<p>In one of the playoff clashes, divisional rivals Vegas Knight Hawks and Northern Arizona Wranglers faced off, creating an intriguing duel between the #2 and #7 seeds. Despite the Knight Hawks winning their previous encounters, the Wranglers emerged victorious this time, securing a historic 161-152 win. This marked the first instance of a 7-seed advancing to the second round, showcasing the unpredictable nature of playoff football.</p>
	
<p>The second playoff showdown featured a rematch between division rivals the #3 seed Cleveland Gladiators and the #6 seed Cedar Rapids Titans. The Titans, determined to overcome their earlier defeat, faced a tough battle against the Gladiators. Despite Saquon Barkley's commendable effort, Cleveland's duo of Justin Fields and Dalvin Cook, amassing 56 fantasy points, propelled them to a 143-103 victory. The Gladiators' triumph highlighted the intensity of the postseason competition.</p>
	
<p>In the final game of the weekend, the Green Bay Blizzard visited the Miami Inferno in a faceoff between the 4th and 5th seeds. Green Bay, seeking to replicate their regular-season success, entered the matchup as a 20-point favorite before factoring in home field advantage. The Inferno, already disadvantaged by the absence of their starting QB Lamar Jackson, struggled with Tyler Huntley at the helm, who managed only 5 fantasy points. The Blizzard dominated the game, securing a decisive 156-108 victory and advancing to the second round, where they would face top-seeded Los Angeles.</p>
	
	
		<h3>Round 2</h3>
	
<p>
Round 2 of the 2022 Big 12 playoffs, held on December 22, 2022, unfolded with intense matchups and surprising outcomes, setting the stage for an exhilarating championship showdown.</p>
	
	<p>In the first game of the weekend, the top-seeded Los Angeles Wildcats faced off against the Green Bay Blizzard, the #4 seed. The anticipated clash was projected to be closely contested, with the Wildcats holding a slim 3-point projected win. However, a late-season injury to star player Deebo Samuel significantly impacted Los Angeles's offensive dynamics. The Blizzard capitalized on this vulnerability, securing a resounding 139-117 victory and earning their ticket to the Big 12 Championship game. Every offensive player for the Wildcats fell short of their projected points, including star QB Josh Allen, who finished with just 28 points. In contrast, the Blizzard's trio of Daniel Jones, Jalen Waddle, and the Rams Defense each scored 25 or more points, leading the team to a convincing win.</p>
	
<p>The second game of the weekend witnessed the Northern Arizona Wranglers traveling to Cleveland to face the #3 seed Gladiators. The Wranglers, fueled by their Cinderella postseason run, continued their impressive performance, defeating the Gladiators 162-112. Led by standout performances from Joe Burrow and DeVonta Smith, both contributing 31 fantasy points each, and James Conner adding 25 fantasy points, the Wranglers dominated the game. Notably, the decision to bench MVP Austin Ekeler did not hinder the Wranglers' success, with even kicker Brett Maher chipping in with 18 fantasy points. This victory marked Northern Arizona's first-ever trip to the Big 12 Championship, adding an exciting element to their postseason journey.</p>
	
	
<h3>Big 12 Championship</h3>
	
<center><img src="https://www.dropbox.com/scl/fi/3h8v92kj5g1de90yu4xk2/2022-Championship.png?rlkey=2ct7c4xz2uu9vk5dpjcg4gh47&st=o5bevvly&raw=1" width="221" height="200" alt=""/></center>

<p>The culmination of the 2022 Big 12 season unfolded in Glendale, Arizona in the highly anticipated championship clash between the Green Bay Blizzard and the Northern Arizona Wranglers on January 2, 2023. The Blizzard entered the matchup as a 5-point favorite over the #7 seed Wranglers, who had embarked on a magical postseason run, defeating the #2 and #3 seeds to become the lowest seed ever to reach the Big 12 Championship. However, their remarkable journey came to an end against the formidable Green Bay squad, as the Blizzard secured a commanding 185-128 victory. This triumph marked Green Bay's first Big 12 Championship.</p>
	
<p>The championship game wasn't without its share of controversy. Damar Hamlin of the Buffalo Bills suffered a cardiac arrest on the field, leading to uncertainty surrounding the game against the Bengals. After a prolonged delay, the game was eventually stopped. Throughout the week, questions loomed about whether the game would be resumed, and it was ultimately canceled. This development resulted in the Wranglers' starting QB finishing with 0 points. While the game's outcome was already in favor of the Blizzard, Burrow would have needed a staggering 63.6 points just to tie the game.</p>
	
<p>With the championship secured, the Blizzard added another milestone to their history. After making it to the first-ever Big 12 Championship in 2012 and losing to the Wildcats, who they ironically defeated to reach the game this year, the Blizzard claimed victory. Daniel Jones continued to shine, scoring 42 points, while Mike Evans delivered an outstanding 49-point performance. Christian McCaffrey rounded out the top three scorers for Green Bay with 31 fantasy points. In a remarkable achievement, Mason Bautch became the youngest GM in Big 12 history to secure a championship.</p>
	
	
	
	</div>	
	

				<button class="collapsible"> Awards<hr></button>
<div class="content">
	
<p>In the culmination of the 2022 Big 12 season, several teams and individuals stood out, making their mark in the league's rich history.</p>
	
	
	<p>Cleveland, Los Angeles and Miami each claimed their record-tying fourth division titles during the 2022 season.</p>
	
	<p>Sixth overall pick, RB Austin Eckeler emerged as the standout player, earning the 2022 league MVP for leading the league with an impressive 380 fantasy points. His contributions were pivotal in guiding the Conference Champion Northern Arizona Wranglers to their first-ever Big 12 championship game.</p>
	
	<p>The award for GM of the Year went to Liz Bautch of the Los Angeles Wildcats, who orchestrated a remarkable season with a league-best 12-2 record. Despite her considerable success throughout her career, this marked Liz Bautch's first time receiving the prestigious award.</p>
	
	<p>Green Bay added more accolades to their legacy by winning their second conference championship and securing their first league championship. Meanwhile, Northern Arizona celebrated their first-ever conference championship.</p>
	
	<p>These achievements underscored the remarkable performances and contributions of teams and individuals in the 2022 Big 12 season.</p>
	
	
	</div>	
	

	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  t2.value = "ALL_TEAMS";  // Set default for Team 2

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = "2022";
  const gameTypeVal = "Season"; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	
	</body>
</html>
