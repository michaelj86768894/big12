<!doctype html>
<html>
<head>

<style>
	
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#001433; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#001433; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #001433; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #E8E8E8; }

tr:hover td, tr:hover th {
  background-color: #F0AE00; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #F0AE00; } /* SECONDARY */
.content a:hover { color: #F0AE00; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#001433; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
	.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.team_fourth {
background: #ffffff;
}

.team_second {
background: #F0AE00;
}

.team_third {
background: #007FC8;
}
	
.team_first {
background: #001433;
}
	
</style>

<meta charset="UTF-8">
<title>2013 Big 12 Season</title>
</head>

<body>
	
	

<p>The 2013 season marked the league's second installment of the Big 12. Kicking off on Thursday, September 5, 2013, the season commenced with an exhilarating clash between the defending champions, Los Angeles Wildcats, and the Vegas Knight Hawks. In a closely contested matchup, the Wildcats narrowly succumbed to the Knight Hawks with a final score of 78-75. The season unfolded over several weeks of intense competition, showcasing the strategic prowess of the league's fantasy football teams. The climax of the season unfolded on Sunday, December 29, 2013, with the Big 12 Championship showdown featuring the Brooklyn Bolts and the Milwaukee Mustangs. The Brooklyn Bolts emerged victorious with a commanding 102-62 triumph, securing their first Big 12 championship in team history.</p>
	
<table>
  <tbody>
    <tr>
      <td colspan="2"><center><img src="https://www.dropbox.com/scl/fi/lnq1lhu4dlfd01vksxni4/1-Big-12-Logo.png?rlkey=2jlol6c7y0qx3hxc26ojqgom2&st=16hq5j7p&raw=1" width="253" height="150" alt=""/></center></td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Regular Season</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Duration</strong></td>
      <td>Sept. 5 2013<br>Dec. 9 2013</td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Playoffs</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Start Date</strong></td>
      <td>Dec. 12 2013</td>
    </tr>
	  <tr>
      <td><strong>Conf. Champions</strong></td>
      <td>Milwaukee (1)<br>Brooklyn (1)</td>
    </tr>
	   <tr>
      <td colspan="2"><strong><center>Big 12 Championship II</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Date</strong></td>
      <td>Dec. 29 2013</td>
    </tr>
     <tr>
      <td><strong>Champions</strong></td>
      <td>Brooklyn Bolts (1)</td>
    </tr>
  </tbody>
</table>
	<p> </p>
	
					<button class="collapsible"> Personnel Movement<hr></button>
<div class="content">
	
	<p>In the aftermath of a challenging 2012 season, the Vegas Knight Hawks made a decisive move, relieving General Manager David Nguyen of his duties after the team secured only one victory. In a strategic shift, the Knight Hawks welcomed Ashley Coppersmith as the new General Manager, marking a significant change in leadership.</p>
	
	<p>At the Cleveland Gladiators, Eryn Turner opted to step down from her role as General Manager, prompting the team to initiate a transition. To fill the void, Bruce Coppersmith was appointed to take on the responsibilities and steer the team forward into the 2013 season.</p>
	
	<p>Despite the Miami Inferno making the playoffs in the previous season, the team decided to part ways with General Manager Jason Richmond. Cody Coppersmith stepped in as the replacement, assuming the leadership role for the Inferno as they entered the 2013 season with renewed vigor.</p>
	
	<p>Meanwhile, the Cedar Rapids Titans underwent a change in leadership as well. Following the release of Mitch Smith from the General Manager position, the Titans welcomed Amanda Strutz to take the reins. This transition aimed to bring a fresh perspective and strategic direction to the team as they prepared for the challenges of the upcoming season.</p>
	
	</div>	
	
	
	<button class="collapsible"> Draft<hr></button>
<div class="content">
	
	
<p>The 2013 draft marked the second annual gathering of Big 12 General Managers for the selection of eligible football players. This pivotal event unfolded at Buffalo Wild Wings on Sunday, September 1, 2013, at 4:00 pm CST. Notably, the Miami Inferno secured the honor of holding the first overall pick in the draft, and they strategically chose the reigning MVP, Adrian Peterson, from Minnesota to bolster their roster for the upcoming season. The selection set the tone for an eventful draft, shaping the competitive landscape of the league as teams aimed to strengthen their lineups with top-tier talent.</p>
	

	<h3>Complete First Round Selections</h3>
	
	<table>
  <tbody>
    <tr>
      <th>Pick</th>
      <th>Big 12 Team</th>
      <th>Player</th>
      <th>POS</th>
      <th>NFL Team</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Miami</td>
      <td>Adrian Peterson</td>
      <td>RB</td>
      <td>MIN</td>		
    </tr>
    <tr>
      <td>2</td>
      <td>Milwaukee</td>
      <td>Arian Foster</td>
      <td>RB</td>
      <td>HOU</td>		
    </tr>
    <tr>
      <td>3</td>
      <td>Chicago</td>
      <td>LeSean McCoy*</td>
      <td>RB</td>
      <td>PHL</td>		
    </tr>
     <tr>
      <td>4</td>
      <td>Philadelphia</td>
      <td>Doug Martin</td>
      <td>RB</td>
      <td>TB</td>		
    </tr>
    <tr>
      <td>5</td>
      <td>Boston</td>
      <td>Ray Rice</td>
      <td>RB</td>
      <td>BAL</td>		
    </tr>
     <tr>
      <td>6</td>
      <td>Cleveland</td>
      <td>Trent Richardson</td>
      <td>RB</td>
      <td>CLE</td>		
    </tr>
      <tr>
      <td>7</td>
      <td>Cedar Rapids</td>
      <td>Aaron Rodgers</td>
      <td>QB</td>
      <td>GB</td>		
    </tr>
      <tr>
      <td>8</td>
      <td>Green Bay</td>
      <td>Peyton Manning</td>
      <td>QB</td>
      <td>DEN</td>		
    </tr>
       <tr>
      <td>9</td>
      <td>Vegas</td>
      <td>Marshawn Lynch</td>
      <td>RB</td>
      <td>SEA</td>		
    </tr>
      <tr>
      <td>10</td>
      <td>Northern Arizona</td>
      <td>Drew Brees</td>
      <td>QB</td>
      <td>NO</td>		
    </tr>
      <tr>
      <td>11</td>
      <td>Brooklyn</td>
      <td>CJ Spiller</td>
      <td>RB</td>
      <td>BUF</td>		
    </tr>
      <tr>
      <td>12</td>
      <td>Los Angeles</td>
      <td>Calvin Johnson</td>
      <td>WR</td>
      <td>DET</td>		
    </tr>
  </tbody>
</table>
	
	<p>*MVP</p>
	</div>

	
	

		<button class="collapsible"> Regular Season<hr></button>
<div class="content">
<p>The 2013 regular season unfolded with great anticipation, comprising 168 games spread across a 14-week schedule that kicked off on the Thursday night following Labor Day. Each Big 12 team engaged in weekly matchups, contributing to a tapestry of intense competition and strategic maneuvering. As the season progressed, the Brooklyn Bolts emerged as the league's top-performing team once again, concluding with an impressive 11-3 record. However, on the other end of the spectrum, the Boston Brawlers faced significant challenges, ending the regular season with a historic 0-14 record – the first instance of a team failing to secure a single victory throughout the season. The extremes in performance set the stage for an intriguing postseason as teams prepared to vie for championship glory.</p>
	
		<h3>Standings</h3>
	
<div class="table-container">
<table>
    <tr>
      <th>East</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(1) Brooklyn</td>
      <td>11</td>
      <td>3</td>		
    </tr>
    <tr>
      <td>(6) Miami</td>
      <td>8</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>Philadelphia</td>
      <td>4</td>
      <td>10</td>		
    </tr>
    <tr>
      <td>Boston</td>
      <td>0</td>
      <td>14</td>		
    </tr>
</table>
	</div>
	
<div class="table-container">
<table>
    <tr>
      <th>Central</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(2) Milwaukee</td>
      <td>10</td>
      <td>4</td>		
    </tr>
    <tr>
      <td>(4) Cedar Rapids</td>
      <td>9</td>
      <td>4</td>		
    </tr>
    <tr>
      <td>Chicago</td>
      <td>6</td>
      <td>8</td>		
    </tr>
    <tr>
      <td>Cleveland</td>
      <td>6</td>
      <td>8</td>		
    </tr>
</table>
	</div>
	
<div class="table-container">
<table>
    <tr>
      <th>West</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(3) Green Bay</td>
      <td>10</td>
      <td>4</td>		
    </tr>
    <tr>
      <td>(5) Los Angeles</td>
      <td>8</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>Vegas</td>
      <td>7</td>
      <td>7</td>		
    </tr>
    <tr>
      <td>Northern Arizona</td>
      <td>5</td>
      <td>9</td>		
    </tr>
</table>
	</div>	
	<p> </p>
	</div>
	
	
	
	
	
	<button class="collapsible"> Game Schedule<hr></button>
<div class="content">
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	
	<button class="collapsible"> Postseason<hr></button>
<div class="content">
	<br>
	

<h3>Round 1</h3>
<p>The opening round of the 2013 playoffs unfolded on December 12, 2013, with a reduced number of playoff teams as the top two seeds enjoyed byes. The playoff atmosphere was charged with excitement as unexpected outcomes marked both matchups.</p>
	
	<p>In the first clash, the 5th seed Los Angeles Wildcats dominated the 4th seed Cedar Rapids Titans, securing an emphatic 158-70 victory. This commanding performance showcased the Wildcats' prowess and set a strong tone for their postseason journey.</p>
	
	<p>Simultaneously, the 6th seed Miami Inferno orchestrated a surprising upset against the 3rd seed Green Bay Blizzard in the other round one game. Overcoming the odds with a final score of 105-88, the Inferno displayed resilience and determination, injecting unpredictability into the playoff narrative and setting the stage for a postseason filled with twists and turns.</p>
	
	
<h3>Round 2</h3>
<p>In the second round of the 2013 playoffs, the #1 seed Brooklyn Bolts faced off against the #6 seed Miami Inferno. The clash was a low-scoring affair, with Brooklyn ultimately emerging victorious with a final score of 73-66. The closely contested battle showcased the intensity of playoff competition and the resilience of both teams.</p>
	
<p>In the parallel matchup of the round, the #2 seed Milwaukee Mustangs squared off against the #5 seed Los Angeles Wildcats. In a higher-scoring game, Milwaukee secured a decisive 125-80 win over Los Angeles. The result solidified Milwaukee' strong postseason performance and set the stage for an intriguing championship showdown.</p>
	
<h3>Big 12 Championship</h3>
	
<center><img src="https://www.dropbox.com/scl/fi/lt4dmj6degb7hk23fhwae/2013-Championship.png?rlkey=yj2lin954jcxowmt4jke7h649&st=el6g9p80&raw=1" width="221" height="200" alt=""/></center>

<p>The 2013 Big 12 Championship, held on December 29, 2013, showcased a face-off between the #1 seed Brooklyn Bolts and the #2 seed Milwaukee Mustangs. In a lopsided matchup, the Bolts emerged victorious with a resounding 102-61 victory over the Mustangs. Notably, this championship game marked the first-ever appearance for both teams in the Big 12 Championship, adding an extra layer of significance to the outcome. The Brooklyn Bolts' defense played a pivotal role in their triumph, as the New York Giants defense, a key component of their roster, contributed a season-high 17 points, securing the Bolts' inaugural championship in the league.</p>
	
	</div>	
	
	
				<button class="collapsible"> Awards<hr></button>
<div class="content">
	
	<p>
In the 2013 season, Brooklyn and Milwaukee once again asserted their divisonal dominance by each securing their second division championships, while Green Bay celebrated their maiden division title.</p>
	
	<p>Third overall pick LeSean McCoy emerged as the standout player, earning the prestigious league MVP title for the 2013 season with an impressive scoring tally of 262 points. Notably, McCoy's mid-season trade to the Mustangs played a pivotal role in propelling them to the Big 12 Championship game.</p>
	
	<p>General Manager Cory Colvin's leadership prowess came to the forefront as he guided the Brooklyn Bolts to their second consecutive 11-win season. Colvin's strategic acumen and team management skills were duly recognized with the GM of the Year award, marking his first accolade in this category.</p>
	
	<p>The 2013 season saw Brooklyn and Milwaukee make significant strides by clinching their first conference championships. Additionally, the Brooklyn Bolts secured their inaugural league championship, marking a historic achievement in their franchise history. These victories underscored the teams' prowess and resilience in their pursuit of excellence within the Big 12.</p>
	
	</div>	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  t2.value = "ALL_TEAMS";  // Set default for Team 2

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = "2013";
  const gameTypeVal = "Season"; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	
	</body>
</html>
