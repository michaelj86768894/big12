<!doctype html>
<html>
<head>

<style>
	
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#001433; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#001433; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #001433; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #E8E8E8; }

tr:hover td, tr:hover th {
  background-color: #F0AE00; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #F0AE00; } /* SECONDARY */
.content a:hover { color: #F0AE00; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#001433; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
	.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.team_fourth {
background: #ffffff;
}

.team_second {
background: #F0AE00;
}

.team_third {
background: #007FC8;
}
	
.team_first {
background: #001433;
}
	
</style>

<meta charset="UTF-8">
<title>2018 Big 12 Season</title>
</head>

<body>
	
	

<p>The 2018 season marked the 7th installment in the storied history of the Big 12. The season kicked off on Thursday, September 6, 2018, featuring an intense rematch from the previous year's championship game. Defending league champions, the Miami Inferno, played host to the Philadelphia Soul. The thrilling contest concluded with the Inferno narrowly edging out the Soul, securing a 156-153 victory in a tightly contested opener.</p>
	
<p>The culmination of the season arrived on Monday, December 24, 2018, with the highly anticipated Big 12 Championship. The title clash featured the Cedar Rapids Titans facing off against the Vegas Knight Hawks. In an electrifying matchup, the Knight Hawks emerged triumphant, claiming their second championship in team history with a decisive 213-156 victory. This victory added another glorious chapter to the Knight Hawks' legacy in the Big 12.</p>
	
<table>
  <tbody>
    <tr>
      <td colspan="2"><center><img src="https://www.dropbox.com/scl/fi/lnq1lhu4dlfd01vksxni4/1-Big-12-Logo.png?rlkey=2jlol6c7y0qx3hxc26ojqgom2&st=16hq5j7p&raw=1" width="253" height="150" alt=""/></center></td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Regular Season</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Duration</strong></td>
      <td>Sept. 6 2018<br>Dec. 10 2018</td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Playoffs</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Start Date</strong></td>
      <td>Dec. 13 2018</td>
    </tr>
	  <tr>
      <td><strong>Conf. Champions</strong></td>
      <td>Vegas (2)<br>Cedar Rapids (1)</td>
    </tr>
	   <tr>
      <td colspan="2"><strong><center>Big 12 Championship VII</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Date</strong></td>
      <td>Dec. 24 2018</td>
    </tr>
     <tr>
      <td><strong>Champions</strong></td>
      <td>Vegas Knight Hawks (2)</td>
    </tr>
  </tbody>
</table>
	<p> </p>
	
	
						<button class="collapsible"> Personnel Movement<hr></button>
<div class="content">
	
	<p>The personnel changes for the 2018 season brought significant shifts in leadership across the league. After a single season under the helm of Matt Winkels, the Vegas Knight Hawks decided to part ways and subsequently brought back Ashley Coppersmith from retirement to resume the General Manager position.</p>
	
	<p>Cory Colvin, the longtime GM of the Brooklyn Bolts, opted to take a hiatus during the 2018 season, citing mental health issues as the reason for his temporary absence.</p>
	
	<p>John Udvare informed the Boston Brawlers of his decision not to return as the General Manager. Struggling to secure a replacement before the draft, the Brawlers made the tough choice to sit out the season.</p>
	
	<p>The Northern Arizona Wranglers underwent a change in leadership as Steve Hruz, their longtime GM, was let go following a string of mediocre seasons. Dan Shilts was appointed as the new General Manager to guide the team through the upcoming challenges.</p>
	
	</div>	
	
	
	
	
	<button class="collapsible"> Draft<hr></button>
<div class="content">
	

<p>The 2018 draft marked the 7th annual gathering of Big 12 General Managers to strategically choose eligible football players, introducing a notable shift as it was the first time the draft was conducted online. Set on Sunday, September 2, 2018, at 1:00 pm CST, this departure from the traditional in-person draft added a new dynamic to the selection process. The Vegas Knight Hawks, holding the coveted first pick, opted for Todd Gurley from the Los Angeles Rams, making this the running back's inaugural selection as the first overall pick. Gurley's selection also put an end to a trend where wide receivers had been consistently chosen with the top pick in previous drafts.</p>
	

	<h3>Complete First Round Selections</h3>
	
	<table>
  <tbody>
    <tr>
      <th>Pick</th>
      <th>Big 12 Team</th>
      <th>Player</th>
      <th>POS</th>
      <th>NFL Team</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Vegas</td>
      <td>Todd Gurley</td>
      <td>RB</td>
      <td>LAR</td>		
    </tr>
    <tr>
      <td>2</td>
      <td>Milwaukee</td>
      <td>LeVeon Bell</td>
      <td>RB</td>
      <td>PIT</td>		
    </tr>
    <tr>
      <td>3</td>
      <td>Los Angeles</td>
      <td>Antonio Brown</td>
      <td>WR</td>
      <td>PIT</td>		
    </tr>
     <tr>
      <td>4</td>
      <td>Northern Arizona</td>
      <td>Saquon Barkley*</td>
      <td>RB</td>
      <td>NYG</td>		
    </tr>
    <tr>
      <td>5</td>
      <td>Cedar Rapids</td>
      <td>Aaron Rodgers</td>
      <td>QB</td>
      <td>GB</td>		
    </tr>
     <tr>
      <td>6</td>
      <td>Chicago</td>
      <td>Odell Beckham Jr.</td>
      <td>WR</td>
      <td>NYG</td>		
    </tr>
      <tr>
      <td>7</td>
      <td>Miami</td>
      <td>Ezekiel Elliott</td>
      <td>RB</td>
      <td>DAL</td>		
    </tr>
      <tr>
      <td>8</td>
      <td>Cleveland</td>
      <td>David Johnson</td>
      <td>RB</td>
      <td>ARZ</td>		
    </tr>
       <tr>
      <td>9</td>
      <td>Philadelphia</td>
      <td>Tom Brady</td>
      <td>QB</td>
      <td>NE</td>		
    </tr>
      <tr>
      <td>10</td>
      <td>Green Bay</td>
      <td>Alvin Kamara</td>
      <td>RB</td>
      <td>NO</td>		
	  </tr>
	</tbody>
</table>
	
	<p>*MVP</p>
	</div>

	
	

		<button class="collapsible"> Regular Season<hr></button>
<div class="content">
<p>With the league contracting to 10 teams, the 2018 regular season underwent an extension, adding one more week to the schedule. This resulted in a total of 168 games played over a 14-week span, commencing on the Thursday night following Labor Day. Each Big 12 team engaged in one game per week.</p>
	
<p>The defending champions, Miami, faced early challenges, securing only two wins in their initial eight games and concluding the season at 5-9. On the other end of the spectrum, the Cedar Rapids Titans excelled, concluding the regular season with a league-best 10-4 record, securing the West division championship. In contrast, the Philadelphia Soul endured a challenging season, finishing with a 4-10 record, marking their worst performance since 2013 and claiming the undesirable title of the league's worst team.</p>
		
		<h3>Standings</h3>
	
<div class="table-container">
<table>
    <tr>
      <th>East</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(3) Chicago</td>
      <td>8</td>
      <td>6</td>		
    </tr>
    <tr>
      <td>(4) Milwaukee</td>
      <td>8</td>
      <td>6</td>		
    </tr>
	    <tr>
      <td>Cleveland</td>
      <td>6</td>
      <td>8</td>		
    </tr>
	      <tr>
      <td>Miami</td>
      <td>5</td>
      <td>9</td>		
    </tr>
	<tr>
      <td>Philadelphia</td>
      <td>4</td>
      <td>10</td>		
    </tr>
</table>
	</div>
	
<div class="table-container">
<table>
    <tr>
      <th>West</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(1) Cedar Rapids</td>
      <td>10</td>
      <td>4</td>		
    </tr>
	  <tr>
      <td>(2) Vegas</td>
      <td>9</td>
      <td>5</td>		
    </tr>
    <tr>
      <td>Green Bay</td>
      <td>8</td>
      <td>6</td>		
    </tr>
	  <tr>
	  <td>Los Angeles</td>
	  <td>7</td>
	  <td>7</td>
	  </tr>
  <tr>
	  <td>Northern Arizona</td>
	  <td>5</td>
	  <td>9</td>
	  </tr>
</table>
	</div>
	
	<p> </p>
	</div>
	
	
	
	
	
	<button class="collapsible"> Game Schedule<hr></button>
<div class="content">
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	<button class="collapsible"> Postseason<hr></button>
<div class="content">
	
	
<br>
	
<p>The playoffs for the 2018 season commenced on December 13, 2018, and reached its culmination with the Big 12 Championship on December 24, 2018, featuring a face-off between the Cedar Rapids Titans and the Vegas Knight Hawks. The reduction in the number of teams altered the playoff structure, with the two division winners securing playoff spots, and the remaining two playoff teams awarded to the next highest win percentage teams. Notably, due to the streamlined format, the playoffs initiated directly with the second round.</p>
	
<h3>Round 2</h3>
	
<p>Round 2 of the 2018 playoffs unfolded on December 13, 2018. The top-seeded Cedar Rapids Titans, champions of the West division, hosted the #4 seed Milwaukee in a closely contested matchup, securing a 127-117 victory and earning their first-ever appearance in the Big 12 championship game.</p>
	
<p>In the second game of the weekend, the second-seeded Vegas Knight Hawks emerged victorious at home against the #3 seed Chicago Slaughter. The Knight Hawks claimed a convincing 169-123 win, marking their second trip to the championship game in team history.</p>
	
<h3>Big 12 Championship</h3>
	
<center><img src="https://www.dropbox.com/scl/fi/9fwwio6gvy10mboo9zc6t/2018-Championship.png?rlkey=nz5907n5hwzg3hkew0vfhtq02&st=vu1tsvaa8&raw=1" width="221" height="200" alt=""/></center>

<p>The 2018 championship game between the first-time participant Cedar Rapids Titans and the Vegas Knight Hawks was played in Atlanta, Georgia and concluded on December 24, 2018, with the Knight Hawks emerging victorious 213-156, securing the franchise's second league championship win. This victory solidified the Knight Hawks as the second team in league history to win multiple championships, adding to their previous triumph in 2015.</p>
	
<p>Despite being the lower seed, the Knight Hawks entered the contest as a 9-point favorite over the top team in the league. The championship matchup was also a divisional showdown, as both teams resided in the West and had split the season series at one game apiece. With this win, Vegas celebrated their second championship.</p>
	
<p>For the Titans, who entered the season with a history of mediocre success, the 2018 campaign saw a remarkable turnaround. Dominating the regular season with a record of 10-4, they claimed their first division title and earned their inaugural appearance in the championship game.</p>
	
	</div>	
	
	
				<button class="collapsible"> Awards<hr></button>
<div class="content">
	
	<p>In this condensed 2018 season, where the league restructured into just the East and West divisions, the Chicago Slaughter and Cedar Rapids Titans each secured their first divisional crowns.</p>
	
	<p>Fourth overall pick Saquon Barkley, with an outstanding performance resulting in 386 points, was honored as the league MVP for the 2018 season. While Barkley showcased individual brilliance, his team, the Northern Arizona Wranglers, faced struggles, concluding the season with a 5-9 record.</p>
	
	<p>The GM of the Year title was awarded to Michael Arroyo of the Cedar Rapids Titans. Arroyo, guiding his team to a commendable 10-4 record, received this recognition for the first time in his career.</p>
	
	<p>Vegas continued their success by claiming their second conference and league championship, while Cedar Rapids celebrated their first conference championship in the history of the franchise.</p>
	
	
	</div>	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  t2.value = "ALL_TEAMS";  // Set default for Team 2

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = "2018";
  const gameTypeVal = "Season"; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	
	</body>
</html>
