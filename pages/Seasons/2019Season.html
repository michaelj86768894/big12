<!doctype html>
<html>
<head>

<style>
	
/* ====== Global Styles ====== */
body { 
  font-family: Arial, Helvetica, sans-serif; 
  color:#222; 
  padding:20px; 
  background:#ffffff; 
}

.wrap { max-width:1100px; margin:0 auto; }
h1 { text-align:center; color:#001433; margin-bottom:10px; } /* PRIMARY */

/* ====== Controls + Cards ====== */
.controls { 
  text-align:center; 
  margin:15px 0; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:10px; 
}

select, input[type="text"] { 
  padding:8px 10px; 
  font-size:14px; 
}

.summary { 
  display:flex; 
  justify-content: center; 
  gap:20px; 
  margin:15px 0; 
  flex-wrap:wrap; 
}

.card { 
  background:#fff; 
  padding:12px 16px; 
  border-radius:8px; 
  box-shadow:0 2px 6px rgba(0,0,0,0.06); 
  min-width:180px; 
  text-align:center; 
}

.card h3 { 
  margin:0 0 6px; 
  font-size:14px; 
  color:#444; 
}

.card p { 
  margin:0; 
  font-weight:700; 
  font-size:18px; 
  color:#001433; /* PRIMARY */
}

/* ====== Your Original Table Styles ====== */
table, th, td {
  table-layout: auto;
  border: 1px solid #001433; /* PRIMARY */
  border-collapse: collapse;
  padding: 5px;
  color: black; /* Default text color */
}

th {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

tr:nth-child(odd) { background-color: #ffffff; }
tr:nth-child(even) { background-color: #E8E8E8; }

tr:hover td, tr:hover th {
  background-color: #F0AE00; /* SECONDARY */
  color: #FFFFFF;
  border: 1px solid #002244; 
}

.table-container {
  display: inline-block;
  margin: 3px;
  vertical-align: top;
}

/* ====== Collapsible Styles ====== */
.collapsible {
  cursor: pointer;
  width: 100%;
  text-align: left;
  border: none;
  padding-top: 1%;
  background-color: #ffffff;
  color: #000000;
  font-size: 24px;
}

.active, .collapsible:hover {
  background-color: #001433; /* PRIMARY */
  color: #ffffff;
}

.collapsible:before {
  content: '\02c6';
  color: #000000;
  font-weight: bold;
  margin-left: 5px;
}

.active:before {
  content: "\02c7";
}

.content {
  max-height: 0;
  overflow: hidden;
  background-color: #ffffff;
  transition: max-height 0.2s ease-out;
  color: black;
}

.content a { color: #F0AE00; } /* SECONDARY */
.content a:hover { color: #F0AE00; } /* SECONDARY */

/* ====== Head-to-Head Scoped Table Styles ====== */
.h2h table {
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:#fff; 
  border-radius:8px; 
  overflow:hidden; 
  box-shadow:0 2px 8px rgba(0,0,0,0.06); 
}

.h2h th { 
  background:#001433; /* PRIMARY */ 
  color:#fff; 
  padding:10px; 
  text-align:left; 
  font-weight:600; 
}

.h2h td { 
  padding:10px; 
  border-bottom:1px solid #eee; 
}

/*.h2h tr:nth-child(even) td { 
  background:#ffffff; 
}*/

.h2h td.winner { 
  font-weight:700; 
  background:#FCC201 !important;
/*	color: #00674F !important;*/
}

.no-data, .loading { 
  text-align:center; 
  margin-top:14px; 
  color:#666; 
}

/* ====== Mobile ====== */
@media (max-width:640px) {
  th, td { font-size:13px; padding:8px; }
  .card { min-width:140px; }
  .controls { flex-direction: column; gap:8px; }
}

	
	
	.box {
display: inline-block;
width: 20px;
height: 20px;
border: 1px solid rgba(0, 0, 0, .2);
}

.team_fourth {
background: #ffffff;
}

.team_second {
background: #F0AE00;
}

.team_third {
background: #007FC8;
}
	
.team_first {
background: #001433;
}
	
</style>


<meta charset="UTF-8">
<title>2019 Big 12 Season</title>
</head>

<body>
	
	

<p>The 2019 season marked the 8th installment in the history of the Big 12. Kicking off on Thursday, September 5, 2019, the defending champions, Vegas Knight Hawks, hosted the Milwaukee Mustangs. The Knight Hawks dominated the Mustangs, securing a decisive victory with a final score of 132-89. The season reached its climax on Monday, December 23, 2019, with the league's championship game featuring the Brooklyn Bolts and the Miami Inferno. The Inferno emerged victorious, claiming their third championship in team history with a final score of 129-112.</p>
	
<table>
  <tbody>
    <tr>
      <td colspan="2"><center><img src="https://www.dropbox.com/scl/fi/lnq1lhu4dlfd01vksxni4/1-Big-12-Logo.png?rlkey=2jlol6c7y0qx3hxc26ojqgom2&st=16hq5j7p&raw=1" width="253" height="150" alt=""/></center></td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Regular Season</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Duration</strong></td>
      <td>Sept. 5 2019<br>Dec. 2 2019</td>
    </tr>
    <tr>
      <td colspan="2"><strong><center>Playoffs</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Start Date</strong></td>
      <td>Dec. 5 2019</td>
    </tr>
	  <tr>
      <td><strong>Conf. Champions</strong></td>
      <td>Brooklyn (2)<br>Miami (3)</td>
    </tr>
	   <tr>
      <td colspan="2"><strong><center>Big 12 Championship VIII</center></strong></td>
    </tr>
	  <tr>
      <td><strong>Date</strong></td>
      <td>Dec. 23 2019</td>
    </tr>
     <tr>
      <td><strong>Champions</strong></td>
      <td>Miami Inferno (3)</td>
    </tr>
  </tbody>
</table>
	<p> </p>
	
	
						<button class="collapsible"> Personnel Movement<hr></button>
<div class="content">
	
	<p>Cory Colvin made a return to the league this season, marking the Bolts' re-entry into football operations after taking a year off.</p>
	
	<p>Longtime GM Cody Coppersmith engaged in contract disputes with Miami during the summer, sparking rumors about the team's potential departure from the Big 12. Despite the speculations, the Inferno chose to remain in the league but parted ways with Coppersmith. The team then enlisted the services of General Manager Richard Head to lead them forward.</p>
	
	<p>Boston, after a year of absence in 2018, secured Travis Gebel as their new General Manager. However, the season got off to a rocky start, leading to Gebel's mid-season replacement by interim GM Chris Cholka.</p>
	
	<p>Los Angeles underwent changes in their front office as Pete Jerving was released from General Manager duties during the off-season. After failing to entice Liz Bautch out of retirement, the team appointed DeMario Suggs as their new General Manager.</p>
	
	</div>	
	
	
	
	
	<button class="collapsible"> Draft<hr></button>
<div class="content">
	

<p>The 2019 draft marked the 8th annual meeting of Big 12 General Managers for selecting eligible football players. The draft was conducted online on Friday, August 30, 2019, at 7:15 pm CST.</p>
	
	<p>The Philadelphia Soul had the honor of holding the first overall pick, a significant moment for the franchise. With this opportunity, they selected Saquon Barkley from New York, making it the first time the Soul had the number one overall pick in their draft history.</p>
	
	
	<h3>Complete First Round Selections</h3>
	
	<table>
  <tbody>
    <tr>
      <th>Pick</th>
      <th>Big 12 Team</th>
      <th>Player</th>
      <th>POS</th>
      <th>NFL Team</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Philadelphia</td>
      <td>Saquon Barkley</td>
      <td>RB</td>
      <td>NYG</td>		
    </tr>
    <tr>
      <td>2</td>
      <td>Northern Arizona</td>
      <td>Todd Gurley</td>
      <td>RB</td>
      <td>LAR</td>		
    </tr>
    <tr>
      <td>3</td>
      <td>Brooklyn</td>
      <td>Christian McCaffrey*</td>
      <td>RB</td>
      <td>CAR</td>		
    </tr>
     <tr>
      <td>4</td>
      <td>Miami</td>
      <td>Alvin Kamara</td>
      <td>RB</td>
      <td>NO</td>		
    </tr>
    <tr>
      <td>5</td>
      <td>Los Angeles</td>
      <td>DeAndre Hopkins</td>
      <td>WR</td>
      <td>HOU</td>		
    </tr>
     <tr>
      <td>6</td>
      <td>Chicago</td>
      <td>Julio Jones</td>
      <td>WR</td>
      <td>ATL</td>		
    </tr>
      <tr>
      <td>7</td>
      <td>Green Bay</td>
      <td>Ezekiel Elliott</td>
      <td>RB</td>
      <td>DAL</td>		
    </tr>
      <tr>
      <td>8</td>
      <td>Cedar Rapids</td>
      <td>David Johnson</td>
      <td>RB</td>
      <td>ARZ</td>		
    </tr>
       <tr>
      <td>9</td>
      <td>Milwaukee</td>
      <td>Davante Adams</td>
      <td>WR</td>
      <td>GB</td>		
    </tr>
      <tr>
      <td>10</td>
      <td>Cleveland</td>
      <td>Michael Thomas</td>
      <td>WR</td>
      <td>NO</td>		
	  </tr>
	        <tr>
      <td>11</td>
      <td>Boston</td>
      <td>LeVeon Bell</td>
      <td>RB</td>
      <td>NYJ</td>		
	  </tr>
	        <tr>
      <td>12</td>
      <td>Vegas</td>
      <td>Tyreek Hill</td>
      <td>WR</td>
      <td>KC</td>		
	  </tr>
	</tbody>
</table>
	
	<p>*MVP</p>
	</div>

	
	

		<button class="collapsible"> Regular Season<hr></button>
<div class="content">
<p>The league expanded back to its original twelve teams with the addition of new General Managers and the return of General Managers after a year-long hiatus. This expansion reverted the regular season to 13 weeks, featuring a total of 156 games that kicked off on the Thursday night following Labor Day. Each of the Big 12 teams played one game each week.</p>
	
<p>The defending champion Knight Hawks demonstrated dominance in the early parts of the season, propelled largely by the outstanding performance of the New England Patriots D/ST. They achieved a perfect 7-0 start, securing an early lead in the West division. Despite stumbling with a 1-5 record over the last six weeks, they clinched a playoff berth. Meanwhile, the Inferno finished the season with a league-best 10-3 record, claiming the East division title. Chicago would secure the Central division crown, setting the stage for an intriguing playoff picture.</p>
		
		<h3>Standings</h3>
	
<div class="table-container">
<table>
    <tr>
      <th>East</th>
      <th>W</th>
      <th>L</th>
    </tr>
	  <tr>
      <td>(1) Miami</td>
      <td>10</td>
      <td>3</td>		
    </tr>
    <tr>
      <td>(5) Boston</td>
      <td>7</td>
      <td>6</td>		
    </tr>
	  <tr>
      <td>(6) Brooklyn</td>
      <td>7</td>
      <td>6</td>		
    </tr>
	  <tr>
      <td>Philadelphia</td>
      <td>5</td>
      <td>8</td>		
    </tr>
</table>
	</div>
	
<div class="table-container">
<table>
    <tr>
      <th>Central</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(2) Chicago</td>
      <td>9</td>
      <td>4</td>		
    </tr>
	  <tr>
      <td>Cedar Rapids</td>
      <td>5</td>
      <td>8</td>		
    </tr>
	<tr>
      <td>Cleveland</td>
      <td>6</td>
      <td>7</td>		
    </tr>
    <tr>
      <td>Milwaukee</td>
      <td>2</td>
      <td>11</td>		
    </tr>
</table>
	</div>	

	<div class="table-container">
<table>
<tr>
      <th>West</th>
      <th>W</th>
      <th>L</th>
    </tr>
    <tr>
      <td>(3) Los Angeles</td>
      <td>9</td>
      <td>4</td>		
    </tr>
	  <tr>
      <td>(4) Vegas</td>
      <td>8</td>
      <td>5</td>		
    </tr>
    <tr>
      <td>Northern Arizona</td>
      <td>6</td>
      <td>7</td>		
    </tr>
	  <tr>
      <td>Green Bay</td>
      <td>4</td>
      <td>9</td>		
    </tr>
</table>
	</div>	
	
	
	<p> </p>
	</div>
	
	
	
	
	
	<button class="collapsible"> Game Schedule<hr></button>
<div class="content">
  <div class="wrap h2h">


<div class="controls">
  <label for="team1">Team 1:</label>
  <select id="team1">
    <option value="">— Select team —</option>
  </select>

  <label for="team2">Team 2:</label>
  <select id="team2">
    <option value="">— Select team —</option>
    <option value="ALL_TEAMS">All Teams</option>
  </select>

  <label for="yearFilter">Year:</label>
  <select id="yearFilter">
    <option value="ALL_YEARS">— All Years —</option>
  </select>

  <label for="gameTypeFilter">Game Type:</label>
  <select id="gameTypeFilter">
    <option value="ALL_TYPES">— All Types —</option>
  </select>

  <input type="text" id="matchFilter" placeholder="Filter matches (text search)" style="width:220px;">
</div>

  <div class="summary" id="summaryArea" style="display:none;">
    <div class="card" id="cardTeam1">
      <h3 id="cardTeam1Name">Team 1</h3>
      <p id="cardTeam1Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam1PF">0</span></div>
    </div>

    <div class="card" id="cardTie">
      <h3 style="color:#666">Head-to-Head</h3>
      <p id="head2headSummary">0 games</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Most recent: <span id="mostRecent">N/A</span></div>
    </div>

    <div class="card" id="cardTeam2">
      <h3 id="cardTeam2Name">Team 2</h3>
      <p id="cardTeam2Record">0 - 0</p>
      <div style="font-size:12px;color:#666;margin-top:6px;">Points For: <span id="cardTeam2PF">0</span></div>
    </div>
  </div>

  <div class="loading" id="loadingMsg">Loading match data...</div>

  <div id="matchTableWrap" style="display:none;">
<table id="matchTable">
  <thead>
    <tr>
      <th style="width:120px">Date</th>
      <th>Team 1</th>
      <th>Team 2</th>
      <th style="width:120px">Score</th>
      <th>Game Type</th> <!-- ✅ new column -->
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="no-data" id="noMatches" style="display:none;">No matches found between the selected teams/year.</div>
	  <br>
      </div>
    </div>
  </div>
	
	
	
	
	<button class="collapsible"> Postseason<hr></button>
<div class="content">
	
	
<br>
	

<p>The playoffs for the 2019 season kicked off on December 5, 2019, and culminated with the highly anticipated Big 12 Championship on December 23, 2019. The expansion of teams to twelve allowed for a more extensive playoff field, comprising a total of six teams vying for the coveted championship title. This adjustment added a layer of intensity and competition to the postseason, promising thrilling matchups and unpredictable outcomes.</p>
	
<h3>Round 1</h3>
	
<p>The first round of the 2019 playoffs unfolded on December 5, 2019, with intriguing matchups that promised excitement and unpredictability. In the first matchup of round 1, the #4 seed Vegas Knight HAwks played host to the #5 seed Boston Brawlers, the game was poised to be a closely contested battle, with projections favoring either team. The clash lived up to its anticipation, offering fans an exhilarating back-and-forth spectacle. Despite projections suggesting a narrow victory for Vegas, Boston orchestrated a thrilling comeback, securing the win on Monday Night Football, ultimately triumphing 116-106 and advancing to the next round. The defeat marked the end of Vegas's bid to repeat as champions as they made an early exit from the playoffs.</p>
	
<p>The second game of the weekend featured a compelling rematch between the third-seeded Los Angeles Wildcats and the visiting Brooklyn Bolts. The early projections hinted at a close contest, with the Bolts holding a modest 14-point advantage. However, Brooklyn exceeded expectations, dominating the game and securing a commanding 160-91 victory. At one point, Brooklyn even held a staggering 100-point lead, underscoring their dominance and ending the season early for Los Angeles</p>
	
<h3>Round 2</h3>
	
<p>The highly anticipated Round 2 of the 2019 playoffs unfolded on December 12, 2019, featuring intense matchups that would determine the finalists for the Big 12 championship. The top-seeded and East division champion Miami Inferno played host to the fifth-seeded Boston Brawlers. Miami held the regular-season advantage between these two teams securing an early win back in September. As they entered the crucial playoff clash, both teams boasted a 50% chance of advancing. Vegas sports books listed Miami as a narrow 1-point favorite, and the game lived up to the expectations, with the Inferno clinching a nail-biting 1-point victory. This triumph propelled Miami to the league championship for the third time in team history, underscoring their resilience and determination.</p>
	
<p>In the second game of the weekend, a compelling matchup unfolded as the second-seeded Chicago Slaughter hosted the surprising sixth-seeded Brooklyn Bolts. Chicago had asserted dominance in both regular-season meetings, securing victories by an average margin of 11 points. As they entered the playoffs, Chicago was favored by a substantial 17-point margin, marking the largest opening line of the postseason. However, the game took an unexpected turn as Brooklyn showcased their mettle, overcoming the odds to defeat the Slaughter convincingly with a final score of 129-108. This victory marked Brooklyn's second trip to the championship game in team history, illustrating their resilience and ability to rise to the occasion in critical playoff moments.</p>
	
	
<h3>Big 12 Championship</h3>
	
<center><img src="https://www.dropbox.com/scl/fi/l46r0iq7wu2l1mqgqzt79/2019-Championship.png?rlkey=8uggzsna6zpzt9jyw02338zne&st=sggivocl&raw=1" width="221" height="200" alt=""/></center>

<p>The climax of the 2019 Big 12 season unfolded in the league championship on December 23, 2019, featuring an unexpected matchup between the sixth-seeded Brooklyn Bolts and the top-seeded Miami Inferno. Despite entering the game as the lower seed, Brooklyn surprisingly emerged as a formidable 23-point favorite, as per the odds makers' predictions. However, the Inferno defied the odds and secured a remarkable victory, defeating the Bolts with a final score of 129-112. This triumph marked Miami' third league championship in team history, underscoring their resilience and ability to perform under pressure.</p>
	
<p>The championship game loss concluded a rollercoaster season for the Brooklyn Bolts. Despite leading their division early in the year, they faced challenges towards the end of the season, narrowly securing a playoff spot as the sixth seed. Despite the ups and downs, Brooklyn defied expectations, making it to their second championship game in team history after taking the 2018 season off.</p>
	
<p>The victory in the championship game served as a testament to the impressive leadership of new GM Richard Head. Under his guidance, the Miami Inferno had a standout season, finishing with a league-best 10-3 record. A crucial 5-game win streak at the end of the season secured the division crown for the Inferno. While they faced a close call in Round 2, defeating the Los Angeles Wildcats by a single point, the Inferno ultimately took care of business in the championship game against Brooklyn, sealing a memorable year with the league title.</p>
	
	</div>	
	
	
				<button class="collapsible"> Awards<hr></button>
<div class="content">
	
	<p>The culmination of the 2019 season saw Miami clinch their third division crown, solidifying their standing as a dominant force in the league. Meanwhile, Chicago and LA each secured their second division titles, underscoring their consistency and competitive prowess.</p>
	
	<p>Third overall pick Christian McCaffrey's outstanding performance in the 2019 season earned him the prestigious title of league MVP. Scoring an impressive 471 points, McCaffrey played a pivotal role in leading the Brooklyn Bolts to the championship game. Despite a regular season record of 7-6, McCaffrey's postseason heroics showcased his ability to elevate his team when it mattered most.</p>
	
	<p>The GM of the Year honor was bestowed upon the Miami Inferno' new General Manager, Richard Head. Guiding the Inferno to an impressive 10-3 record, Head's leadership proved instrumental in the team's success. This accolade marked his inaugural and singular achievement as the league's top-performing general manager.</p>
	
	<p>Miami continued their dominance by securing their third conference and league championship titles. On the other hand, Brooklyn celebrated their second conference championship, highlighting their resilience and ability to thrive in postseason competition.</p>
	
	
	</div>	
	
	
	
	
<script>
const csvUrl = "https://raw.githubusercontent.com/michaelj86768894/big12/main/Head2Head.csv?cb=" + new Date().getTime();
let allMatches = [];
let teams = [];

function parseCsvToObjects(csvText) {
  const lines = csvText.trim().split(/\r?\n/).filter(l => l.trim() !== "");
  const headers = lines.shift().split(",").map(h => h.trim());
  return lines.map(line => {
    const cols = line.split(",").map(c => c.trim());
    const obj = {};
    headers.forEach((h,i)=> obj[h]=cols[i]??"");
    return obj;
  });
}

function parseDate_mmddyy(s) {
  if (!s) return null;
  const parts = s.split("/").map(p=>parseInt(p,10));
  if (parts.length!==3 || parts.some(isNaN)) return null;
  let [m,d,y]=parts;
  if (y<100) y+=2000;
  return new Date(y,m-1,d);
}

function formatDateShort(dateObj) {
  if (!dateObj) return "N/A";
  const m=String(dateObj.getMonth()+1).padStart(2,"0");
  const d=String(dateObj.getDate()).padStart(2,"0");
  const yy=String(dateObj.getFullYear()).slice(-2);
  return `${m}/${d}/${yy}`;
}

async function loadCsvAndInit() {
  try {
    const res = await fetch(csvUrl);
    if(!res.ok) throw new Error("Network error "+res.status);
    const text = await res.text();
    const rows = parseCsvToObjects(text);

    allMatches = rows.map(r=>{
      const d=parseDate_mmddyy(r["Date"]);
      return {
        rawDate: r["Date"]||"",
        date: d,
        team1: (r["Team 1"]||"").trim(),
        team2: (r["Team 2"]||"").trim(),
        score1: parseInt(r["Team 1 Score"]||"0",10),
        score2: parseInt(r["Team 2 Score"]||"0",10),
        gameType: (r["Game Type"]||"").trim() // ✅ new field
      };
    }).filter(m=>m.team1 && m.team2);

    const teamSet=new Set();
    allMatches.forEach(m=>{teamSet.add(m.team1);teamSet.add(m.team2);});
    teams=Array.from(teamSet).sort((a,b)=>a.localeCompare(b));

    populateDropdowns();
    document.getElementById("loadingMsg").style.display="none";
  } catch(err) {
    document.getElementById("loadingMsg").textContent="Error loading match data.";
    console.error(err);
  }
}

function populateDropdowns() {
  const t1=document.getElementById("team1");
  const t2=document.getElementById("team2");

  teams.forEach(team=>{
    const o1=document.createElement("option"); o1.value=team; o1.textContent=team; t1.appendChild(o1);
    const o2=document.createElement("option"); o2.value=team; o2.textContent=team; t2.appendChild(o2);
  });

  t1.addEventListener("change", updateDisplay);
  t2.addEventListener("change", updateDisplay);
  document.getElementById("matchFilter").addEventListener("input", updateDisplay);
  document.getElementById("yearFilter").addEventListener("change", updateDisplay);
  document.getElementById("gameTypeFilter").addEventListener("change", updateDisplay); // ✅ new

  t2.value = "ALL_TEAMS";  // Set default for Team 2

  updateDisplay();
}

function populateYearDropdown(){
  const yearSet = new Set(allMatches.map(m=>m.date?m.date.getFullYear():null).filter(y=>y));
  const yearDropdown=document.getElementById("yearFilter");
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement("option");
    opt.value=y;
    opt.textContent=y;
    yearDropdown.appendChild(opt);
  });
}

function populateGameTypeDropdown() {
  const typeSet = new Set(allMatches.map(m => m.gameType).filter(t => t));
  const typeDropdown = document.getElementById("gameTypeFilter");

  Array.from(typeSet).sort().forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    typeDropdown.appendChild(opt);
  });

  typeDropdown.value = "ALL_TYPES";
}

function getWinnerClass(m){
  if(m.score1>m.score2) return "winner";
  if(m.score2>m.score1) return "winner";
  return "";
}

function updateDisplay(){
  const teamA = document.getElementById("team1").value;
  const teamB = document.getElementById("team2").value;
  const yearVal = "2019";
  const gameTypeVal = "Season"; // ✅
  const searchVal = document.getElementById("matchFilter").value.trim().toLowerCase();

  let filtered = allMatches.filter(m=>
    (m.team1===teamA && (teamB==="ALL_TEAMS" || m.team2===teamB)) ||
    (m.team2===teamA && (teamB==="ALL_TEAMS" || m.team1===teamB))
  );

  if(yearVal!=="ALL_YEARS"){
    filtered = filtered.filter(m=>m.date && m.date.getFullYear()===parseInt(yearVal,10));
  }

  if(gameTypeVal !== "ALL_TYPES") { // ✅ filter Game Type
    filtered = filtered.filter(m => m.gameType === gameTypeVal);
  }

  if(searchVal!==""){
    filtered = filtered.filter(m=>(
      m.team1.toLowerCase().includes(searchVal) ||
      m.team2.toLowerCase().includes(searchVal)
    ));
  }

  filtered.sort((a,b)=>b.date - a.date);

  // --- SUMMARY CALCULATION ---
  if (filtered.length > 0) {
    let winsA = 0, winsB = 0, pfA = 0, pfB = 0;
    filtered.forEach(m => {
      pfA += (m.team1 === teamA ? m.score1 : m.score2);
      pfB += (m.team1 === teamB ? m.score1 : m.score2);

      if (m.score1 > m.score2 && m.team1 === teamA) winsA++;
      else if (m.score2 > m.score1 && m.team2 === teamA) winsA++;

      if (teamB !== "ALL_TEAMS") {
        if (m.score1 > m.score2 && m.team1 === teamB) winsB++;
        else if (m.score2 > m.score1 && m.team2 === teamB) winsB++;
      }
    });

    document.getElementById("head2headSummary").textContent = `${filtered.length} games`;
    document.getElementById("mostRecent").textContent = formatDateShort(filtered[0].date);
    document.getElementById("cardTeam1PF").textContent = pfA;

    if (teamB === "ALL_TEAMS") {
      document.getElementById("cardTeam1Record").textContent = `${winsA} Wins`;
      document.getElementById("cardTeam2Record").textContent = `N/A`;
      document.getElementById("cardTeam2PF").textContent = `N/A`;
    } else {
      document.getElementById("cardTeam1Record").textContent = `${winsA} - ${winsB}`;
      document.getElementById("cardTeam2Record").textContent = `${winsB} - ${winsA}`;
      document.getElementById("cardTeam2PF").textContent = pfB;
    }

    document.getElementById("summaryArea").style.display = "flex";
  } else {
    document.getElementById("summaryArea").style.display = "none";
  }

  const tbody = document.querySelector("#matchTable tbody");
  tbody.innerHTML="";
  filtered.forEach(m=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${formatDateShort(m.date)}</td>
      <td class="${Number(m.score1) > Number(m.score2) ? 'winner' : ''}">${m.team1}</td>
      <td class="${Number(m.score2) > Number(m.score1) ? 'winner' : ''}">${m.team2}</td>
      <td>${m.score1} - ${m.score2}</td>
      <td>${m.gameType || ""}</td>`;
    tbody.appendChild(tr);
  });

  document.getElementById("matchTableWrap").style.display="block";
  document.getElementById("noMatches").style.display=filtered.length===0?"block":"none";
  document.getElementById("summaryArea").style.display=filtered.length>0?"flex":"none";

  refreshCollapsibleHeight();
}

loadCsvAndInit();

// --- Collapsible logic ---
var coll = document.getElementsByClassName("collapsible");
for (let i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}

// --- helper to fix cutoff issue ---
function refreshCollapsibleHeight() {
  document.querySelectorAll(".collapsible.active + .content").forEach(content => {
    content.style.maxHeight = content.scrollHeight + "px";
  });
}
</script>	
	
	
	
	
	
	
	</body>
</html>
